# 막아라! 무너트려라!

> 자원을 채집하고, 기지를 세우고, 적을 무너트려라!

**RTS 모드**와 **RPG 모드**를 모두 즐길 수 있는 종합 전략 게임입니다.

**Version: 1.12.2**

---

## 게임 소개

### 🎮 게임 모드

| 모드 | 설명 | 플레이어 |
|------|------|----------|
| **RTS 모드** | 자원 채집, 유닛 생산, 기지 공략 | 싱글/멀티 |
| **RPG 모드** | 영웅 선택, 스킬 전투, 웨이브 서바이벌 | 싱글/멀티(협동) |

---

## RTS 모드

10분 안에 적 기지를 파괴하세요! 자원을 채집하고, 유닛을 생산하고, 전략적으로 공격과 방어를 조율해야 합니다.

### 승리 조건
- 적 기지 HP를 0으로 만들면 **승리**
- 시간 종료 시 HP가 더 높으면 **승리**
- **극악 난이도**: 보스를 처치하면 **승리**

### 패배 조건
- 내 기지 HP가 0이 되면 **패배**
- 시간 종료 시 적 HP가 더 높거나 같으면 **패배**
- **극악 난이도**: 보스가 내 기지를 파괴하면 **패배**

---

## 기술 스택

### 클라이언트

| 기술 | 버전 | 용도 |
|------|------|------|
| React | 19.x | UI 프레임워크 |
| TypeScript | 5.x | 타입 안정성 |
| Vite | 7.x | 빌드 도구 |
| Zustand | 5.x | 상태 관리 |
| Tailwind CSS | 4.x | 스타일링 |

### 서버 (멀티플레이어)

| 기술 | 버전 | 용도 |
|------|------|------|
| Node.js | 22.x | 런타임 |
| ws | 8.x | WebSocket 서버 |
| TypeScript | 5.x | 타입 안정성 |

---

## 설치 및 실행

### 튜토리얼 / AI 대전 (싱글플레이어)

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build
```

> 처음 플레이한다면 **튜토리얼 모드**로 시작하세요! 게임의 모든 유닛과 기능을 단계별로 배울 수 있습니다.

### 1vs1 대전 (멀티플레이어)

```bash
# 전체 의존성 설치 (루트 + 서버)
npm install

# 서버 실행 (별도 터미널)
cd server
npm run dev

# 클라이언트 실행 (별도 터미널)
npm run dev
```

**플레이 방법:**
1. 한 플레이어가 "방 만들기" 클릭 → 초대 코드 생성
2. 초대 코드를 상대방에게 공유
3. 상대방이 초대 코드 입력 후 "입장" 클릭
4. 양쪽 플레이어 입장 후 게임 자동 시작

---

## 게임 플레이

### 자원

| 자원 | 아이콘 | 획득 방법 |
|------|--------|----------|
| 골드 | 금색 | 자동 획득 (기본 4/초, 업그레이드로 증가) / 금광부 (광산) |
| 나무 | 갈색 | 나무꾼 / 직접 채집 |
| 돌 | 회색 | 광부 / 직접 채집 |
| 약초 | 초록 | 채집꾼 / 직접 채집 |
| 수정 | 보라 | 채집꾼 (희귀) / 수정 노드 |

### 유닛

#### 전투 유닛

| 유닛 | 비용 | HP | 공격력 | 사거리 | 설명 |
|------|------|----|----|--------|------|
| 검병 | 50 골드 | 100 | 15 | 30 | 근접 전투 유닛 |
| 궁수 | 80 골드 + 10 나무 | 50 | 25 | 150 | 원거리 공격 유닛 |
| 기사 | 120 골드 + 20 나무 + 30 돌 | 300 | 10 | 35 | 근접 탱커 (높은 체력) |
| 마법사 | 150 골드 + 50 나무 + 10 수정 | 40 | 50 | 200 | 범위 공격 (AOE 50px) |

#### 지원 유닛

| 유닛 | 비용 | HP | 특수 능력 | 설명 |
|------|------|----|----------|------|
| 나무꾼 | 30 골드 | 60 | 채집 1.0/초 | 나무 채집 |
| 광부 | 40 골드 + 5 나무 | 70 | 채집 1.5/초 | 돌 채집 |
| 채집꾼 | 50 골드 | 50 | 채집 1.5/초 | 약초 채집 (수정 확률) |
| 금광부 | 100 골드 + 20 나무 | 70 | 채집 1.5/초 | 골드 채집 (광산) |
| 힐러 | 70 골드 + 15 약초 | 60 | 광역 회복 5HP/초 | 전투 유닛만 치료 (범위 130px) |

#### 보스 유닛 (극악 난이도 전용)

| 유닛 | 출현 조건 | HP | 공격력 | AOE | 설명 |
|------|----------|----|----|-----|------|
| 보스 | 적 본진 파괴 시 | 2000 | 100 | 80px | 느린 이동, 강력한 광역 공격 |

> 보스는 플레이어가 소환할 수 없으며, 극악 난이도 페이즈 2에서 자동 출현합니다.

### 건설

| 행동 | 비용 | 효과 |
|------|------|------|
| 벽 건설 | 40 나무 + 20 돌 | 방어벽 생성 (HP 150) |
| 기지 업그레이드 | 레벨별 증가 | 기지 HP +200, 골드 수입 +1/초 |

#### 기지 업그레이드 비용 (최대 5레벨)

| 레벨 | 골드 | 나무 | 돌 | 누적 골드 수입 |
|------|------|------|-----|---------------|
| 1 | 150 | - | - | 5/초 |
| 2 | 100 | 50 | 50 | 6/초 |
| 3 | 150 | 75 | 75 | 7/초 |
| 4 | 225 | 112 | 112 | 8/초 |
| 5 (MAX) | 337 | 168 | 168 | 9/초 |

---

### RTS 조작법

#### 키보드

| 키 | 동작 |
|----|------|
| `방향키` | 카메라 이동 |
| `Space` | 본진으로 카메라 이동 |
| `Q` | 벽 배치 모드 토글 |
| `W` | 본진 강화 |
| `E` | 약초 판매 |
| `Y` | 가장자리 스크롤 토글 |
| `M` | 사운드 켜기/끄기 |
| `ESC` | 일시정지 / 게임 재개 |

#### 마우스

| 동작 | 기능 |
|------|------|
| 좌클릭 (유닛) | 유닛 선택 |
| 우클릭 드래그 | 카메라 이동 |
| 미니맵 클릭 | 해당 위치로 이동 |
| 마우스 휠 | 줌 인/아웃 (0.5x ~ 2x) |
| 화면 가장자리 | 카메라 자동 이동 (토글 필요) |

> 📷 가장자리 스크롤: 기본 비활성화. `Y` 키 또는 미니맵 좌측 📷 버튼으로 토글.
> 🔊 사운드: `M` 키 또는 미니맵 좌측 스피커 아이콘으로 음소거 토글. 아이콘에 마우스를 올리면 볼륨 조절 가능.

---

## RPG 모드

4가지 직업 중 하나를 선택하여 영웅을 조종하고, 웨이브로 몰려오는 적들을 물리치는 액션 RPG 서바이벌 모드입니다.

### 직업

| 직업 | HP | 공격력 | 사거리 | 특징 |
|------|-----|--------|--------|------|
| **전사** | 350 | 35 | 80 | 균형 잡힌 근접 딜러, 돌진/광전사 버프 |
| **궁수** | 250 | 45 | 150 | 고공격 원거리 딜러, 관통/화살비 |
| **기사** | 450 | 30 | 60 | 고체력 탱커, 방패 돌진/철벽 방어 |
| **마법사** | 220 | 55 | 120 | 광역 마법 딜러, 화염구/운석 낙하 |

### 스킬 시스템

| 키 | 스킬 | 설명 |
|----|------|------|
| **자동** | 기본 공격 | 사거리 내 적 자동 공격 |
| **Shift** | 스킬 | 직업별 고유 스킬 (돌진, 관통 화살, 방패 돌진, 화염구) |
| **R** | 궁극기 | 강력한 궁극기 (광전사, 화살 비, 철벽 방어, 운석 낙하) |

### RPG 조작법

| 키/입력 | 동작 |
|---------|------|
| **WASD** | 이동 |
| **Shift** | 스킬 사용 |
| **R** | 궁극기 사용 |
| **C (누르고 있기)** | 기본 공격 사거리 표시 |
| **Space** | 카메라를 영웅 위치로 |
| **ESC** | 일시정지 |
| **마우스 휠** | 줌 인/아웃 |

### 웨이브 시스템

- 웨이브 단위로 적이 스폰됩니다
- 모든 적 처치 시 다음 웨이브로 진행
- **10, 20, 30... 웨이브**: 보스 등장
- 웨이브가 올라갈수록 적 스탯 증가

### 레벨업

- 적 처치 시 경험치 획득
- 레벨업 시: 최대 HP +30, 공격력 +5, HP 전체 회복

### 협동 모드 (멀티플레이어)

2-4명이 함께 웨이브를 클리어하는 협동 모드입니다.

**플레이 방법:**
1. 한 플레이어가 "협동 모드" → "방 만들기" 클릭 → 초대 코드 생성
2. 초대 코드를 다른 플레이어에게 공유
3. 다른 플레이어가 초대 코드 입력 후 "입장" 클릭
4. 각 플레이어가 직업 선택 후 "준비" 클릭
5. 모든 플레이어 준비 완료 후 호스트가 "게임 시작" 클릭

**협동 모드 특징:**
- 경험치 공유: 모든 플레이어가 동일한 경험치 획득
- 난이도 스케일링: 플레이어 수에 따라 적 체력 증가
- 자동 부활: 사망 시 10~30초 후 자동 부활 (웨이브 진행에 따라 증가)

> 📖 자세한 내용은 [RPG 모드 설명서](docs/rpg-mode.md) 참조

---

## 프로젝트 구조

```
defence_game/
├── src/                      # 클라이언트 (React)
│   ├── components/           # React 컴포넌트
│   │   ├── canvas/          # 게임 렌더링 (GameCanvas, Minimap)
│   │   ├── common/          # 공통 컴포넌트 (Button, HPBar)
│   │   ├── screens/         # 화면 (MainMenu, LobbyScreen 등)
│   │   └── ui/              # UI 패널 (ResourceBar, UnitPanel 등)
│   ├── constants/           # 게임 설정 (config.ts)
│   ├── effects/             # 파티클 이펙트 시스템
│   ├── game/                # 게임 로직
│   │   ├── ai/              # 적 AI
│   │   ├── resources/       # 자원 노드 관리
│   │   └── units/           # 유닛 타입 및 동작
│   ├── hooks/               # 커스텀 훅 (게임 루프, 입력 처리)
│   ├── renderer/            # 캔버스 렌더링
│   ├── services/            # WebSocket 클라이언트, 사운드 매니저
│   ├── stores/              # Zustand 상태 관리
│   ├── types/               # TypeScript 타입
│   └── utils/               # 유틸리티 함수
├── server/                   # 멀티플레이어 서버 (Node.js)
│   └── src/
│       ├── game/            # 서버 게임 로직 (GameRoom)
│       ├── room/            # 방 관리 (RoomManager)
│       ├── state/           # 서버 상태 관리
│       └── websocket/       # WebSocket 서버 및 메시지 핸들러
└── shared/                   # 공유 타입
    └── types/               # 네트워크 메시지 및 게임 타입
```

---

## 게임 밸런스

| 항목 | 값 |
|------|-----|
| 게임 시간 | 10분 |
| 맵 크기 | 4000 x 2400 |
| 기지 초기 HP | 1000 |
| 골드 자동 획득 | 기본 4/초 (업그레이드로 증가 가능) |

### AI 난이도

| 난이도 | 행동 주기 | 행동 확률 | 적 기지 HP | 특수 기능 |
|--------|----------|----------|-----------|----------|
| 쉬움 | 5초 | 60% | 1000 | - |
| 중간 | 2.5초 | 85% | 1200 | 2분에 대량 발생 1회 |
| 어려움 | 2초 | 95% | 1500 | 다중 소환 + 1분30초마다 대량 발생 |
| 극악 | 1.5초 | 98% | 2000 | 보스 페이즈 + 1분마다 대량 발생 |

#### 대량 발생 시스템
- **중간**: 2분에 검병+궁수+기사+힐러 무료 소환 (1회)
- **어려움**: 1분30초마다 대량 발생 (반복)
  - 첫 번째: 검병+궁수+기사+힐러 (마법사 제외)
  - 두 번째 이후: 검병+궁수+기사+마법사+힐러 (풀 조합)
- **극악**: 1분마다 검병+궁수+기사+마법사+힐러 대량 발생 (반복)
- 대량 발생은 AI 자원과 무관하게 무료로 소환됩니다.

#### 극악 난이도 페이즈 시스템

| 페이즈 | 조건 | 목표 |
|--------|------|------|
| 페이즈 1 | 게임 시작 | 적 본진 파괴 (HP 2000) |
| 페이즈 2 | 적 본진 파괴 | 보스 처치 |

- 적 본진을 파괴하면 **페이즈 2**가 시작되고 보스가 출현합니다.
- 보스를 처치해야 승리하며, 보스가 내 기지를 파괴하면 패배합니다.

---

## 버전 히스토리

### V1.12.2 (현재)
- **RPG 모드 멀티플레이어 이동 동기화 개선**
  - 목표 위치 기반에서 방향 기반 동기화로 변경
  - 클라이언트-서버 간 이동 끊김 현상 개선
  - 키 입력 시 즉시 방향 전송 (50ms 폴링 제거)
- **RPG 멀티플레이어 적 AI 타겟팅 개선**
  - 적이 항상 영웅을 추적하도록 변경 (싱글플레이와 동일)
  - 가장 가까운 영웅 우선 타겟팅 (거리 기반)
  - 비슷한 거리(150픽셀 이내)일 때만 근접 영웅 우선
  - 공격받을 시 공격자에게 반격 (가까울 때만)
- **RPG 모드 패시브 시스템 개편 (싱글/멀티 공통)**
  - 패시브 활성화 조건: 게임 시작 → 캐릭터 레벨 5 도달 시
  - **전사**: 피해흡혈 15% (레벨 5 이상)
  - **궁수**: 다중타겟 20% 확률 (레벨 5 이상)
  - **기사**: HP 재생 5/초 (레벨 5 이상)
  - **마법사**: 데미지 보너스 25% (레벨 5 이상)
- **RPG 모드 플레이 시간 표시 추가 (싱글/멀티 공통)**
  - 상단 중앙에 경과 시간 표시 (MM:SS 형식)
- **버그 수정**
  - 멀티플레이어 기사 HP 재생이 적용되지 않던 문제 수정
  - 멀티플레이어 적이 가까운 영웅을 무시하고 먼 근접 영웅만 타겟하던 문제 수정

### V1.12.1
- **RPG 모드 조작 시스템 개편 (싱글/멀티 공통)**
  - WASD 키로 이동 (우클릭 이동 제거)
  - 자동 공격 시스템: 사거리 내 적이 있으면 자동으로 기본 공격
  - 스킬 키 변경: Shift(스킬), R(궁극기)
  - 마우스는 스킬 방향 지정용으로만 사용
- **스킬바 UI 개편 (싱글/멀티 공통)**
  - Q 스킬 슬롯 제거 (자동 공격으로 대체)
  - Shift(스킬), R(궁극기) 2개 슬롯만 표시
  - 각 슬롯에 "스킬", "궁극기" 라벨 표시

### V1.12.0
- **RPG 모드 멀티플레이어 협동 모드 추가**
  - 2-4명 플레이어가 함께 웨이브를 클리어하는 협동 모드
  - 방 생성/참가 시스템 (6자리 초대 코드)
  - 서버 권위적 모델로 게임 상태 동기화
  - 경험치 공유 시스템 (모든 플레이어 동일 경험치 획득)
  - 플레이어 수에 따른 난이도 스케일링 (2인: 1.5배, 3인: 2배, 4인: 2.5배)
  - 자동 부활 시스템 (10~30초 대기 후 자동 부활)
  - 적 AI 어그로 시스템 (가까운 영웅 + 근접 직업 우선)
- **RPG 모드 버그 수정 및 개선**
  - 전사 광전사 버프 공격속도 30% 증가 효과 적용 (Q스킬 쿨다운 감소)
  - 멀티플레이 이동속도 버그 수정 (이동속도가 아닌 공격속도에 버프 적용)
  - 렌더링 일관성 개선 (광전사 불꽃 이펙트, 무적 이펙트, 스턴 이펙트)

### V1.11.7
- **RPG 모드 기사 직업 개선**
  - 기사 레벨업 시 HP +50 (다른 직업: +30)
  - 방패 돌진(W) 데미지 추가: 최대 HP의 10% 데미지 + 기절
  - Q 스킬 적중 시 W 스킬 쿨타임 1초 감소 (적 1명당)
  - Q/W 스킬 아이콘 교체 (Q: 💪, W: 🛡️)
- **RPG 모드 게임 템포 개선**
  - 영웅 및 적 이동속도 50% 증가
  - 웨이브 간 대기 시간 제거 (즉시 다음 웨이브 시작)
- **RPG 모드 사운드 개선**
  - 레벨업 사운드 변경: 단순 상승음 → 3음 아르페지오
  - 레벨업/웨이브 사운드 중복 재생 방지 (800ms 지연)

### V1.11.6
- **RPG 모드 레벨업 시 스킬 쿨타임 초기화**
  - 레벨업하면 모든 스킬(Q/W/E)의 쿨타임이 즉시 초기화됨
  - 위기 상황에서 레벨업을 통해 전투 지속 가능
- **RPG 모드 기본 공격 이펙트 개선**
  - 사거리 내 적 유무와 관계없이 공격 이펙트가 항상 표시됨
  - 궁수/마법사: 적이 없어도 마우스 방향으로 투사체 발사
  - 전사/기사: 적이 없어도 베기/타격 모션 표시
- **스킬 해금 시스템 제거**
  - 모든 스킬(Q/W/E)이 게임 시작부터 사용 가능
  - 레벨업 시 스킬 해금 알림 제거

### V1.11.5
- **RPG 모드 패시브 성장 시스템 추가**
  - 웨이브 10 클리어부터 활성화, 10웨이브마다 성장
  - **전사**: 피해흡혈 (최대 50%, 초과 시 공격력 +0.5%/10W)
  - **궁수**: 다중타겟 확률 (최대 100%, 초과 시 공격력 +0.5%/10W)
  - **기사**: HP 재생 (최대 200/초, 초과 시 체력 +0.5%/10W)
  - **마법사**: 데미지 보너스 (최대 100%, 초과 시 공격력 +1%/10W)
  - 전사 피해흡혈: 패시브 + 궁극기 버프 곱연산 적용
  - 패시브 활성화/강화 시 알림 표시
- **RPG 모드 기본 공격 이펙트 추가**
  - **전사**: 주황색 베기 호 + 피격 스파크
  - **궁수**: 녹색 화살 발사 애니메이션 (다중타겟 시 여러 화살)
  - **기사**: 파란색 방패 타격 호 + 충격파
  - **마법사**: 보라색 마법 볼트 발사 + 폭발 이펙트
  - 각 피격 대상에 개별 히트 이펙트 표시

### V1.11.4
- **RPG 모드 스킬 이펙트 및 모션 추가**
  - **전사 돌진(W) 스킬 개선**
    - 순간이동 대신 실제 이동 모션 추가 (0.25초 지속)
    - 속도선, 그라데이션 잔상, 잔영 효과
    - 도착 시 충격파 이펙트
    - 돌진 후 무적 상태 황금 방패 효과
  - **전사 광전사(E) 스킬 개선**
    - 기존 붉은 원 대신 불타는 화염 효과
    - 16개 화염이 캐릭터 주변에서 솟아오름
    - 불꽃 스파크 파티클 효과
    - 발동 시 다중 충격파 폭발 이펙트
  - **궁수 관통화살(W) 스킬 효과 추가**
    - 화살 모양 (화살대, 촉, 깃털) 캔버스 렌더링
    - 화살 궤적 잔상 및 에너지 파동 효과
    - 최대 사거리 도달 시 자동 소멸
    - 관통 경로 잔류 이펙트
  - **궁수 화살비(E) 스킬 효과 추가**
    - 20발 화살이 하늘에서 낙하
    - 5개 그룹으로 시간차 낙하 (중력 가속)
    - 착지 시 충격파 및 먼지 효과
    - 착지 후 바닥에 꽂힌 화살 표시
    - 시작 시 경고 원 표시
- **버그 수정**
  - 전사 돌진 후 캐릭터가 이동할 수 없던 문제 수정
  - 궁수 스킬 애니메이션이 표시되지 않던 문제 수정 (스킬 타입 매칭)

### V1.11.3
- **RPG 모드 Q 스킬(기본 공격) 시스템 개선**
  - 직업별 기본 사거리 적용 (전사 80, 궁수 150, 기사 60, 마법사 120)
  - 바라보는 방향으로만 공격 적용 (후방의 적은 공격되지 않음)
  - 직업별 공격 타입 차별화
    - 전사, 기사: 근접 범위 공격 (다수 타격, 전방 110도)
    - 마법사: 원거리 범위 공격 (다수 타격, 전방 90도)
    - 궁수: 원거리 단일 공격 (전방 90도)
- **기본 공격 사거리 표시 기능 추가**
  - C 키를 누르고 있으면 캐릭터의 기본 공격 사거리가 노란색 원으로 표시
- **조작법 안내 업데이트**
  - 하단 안내 텍스트 수정: `WASD: 이동 | 자동 공격 | Shift: 스킬 | R: 궁극기 | C: 사거리 | Space: 카메라`
- **버그 수정**
  - 전사/기사의 W 스킬(돌진)이 데미지만 입히고 이동하지 않던 문제 수정

### V1.11.2
- **RPG 모드 전투 시스템 개선**
  - Q 키로 기본 공격 (마우스 방향으로 공격)
  - 좌클릭 자동 공격 제거
  - 공격 적중 판정 개선
- **적 AI 개선**
  - 적이 항상 플레이어를 추적하도록 변경
- **버그 수정**
  - 스킬 데미지가 적용되지 않던 문제 수정
  - 직업 선택이 적용되지 않던 문제 수정

### V1.11.1
- **RPG 모드 개선**
  - 이동 방향에 따른 유닛 이미지 반전 기능 추가
  - 영웅이 오른쪽으로 이동하면 오른쪽을 바라보고, 왼쪽으로 이동하면 왼쪽을 바라봄
  - 적 유닛이 영웅 방향을 바라보도록 수정
- **버그 수정**
  - SkillType 타입 정의 누락 수정
  - 미사용 변수 경고 수정

### V1.11.0
- **RPG 모드 추가**
  - 4가지 직업 시스템 (전사, 궁수, 기사, 마법사)
  - 직업별 고유 스탯 및 스킬 (Q/W/E)
  - 웨이브 기반 서바이벌 모드
  - 적 AI 시스템 (탐지, 추적, 공격)
  - 미니맵 안개 시야 시스템
  - 버프 시스템 (광전사, 철벽 방어)
  - 레벨업 및 경험치 시스템
  - 자세한 내용은 [RPG 모드 설명서](docs/rpg-mode.md) 참조

### V1.10.1
- **사운드 재생 개선**
  - 플레이어 측 이벤트에서만 사운드 재생
  - 적 유닛의 공격, 채집, 힐 소리가 더 이상 재생되지 않음
  - AI 대전 및 멀티플레이어 모든 모드에서 적용
- **버그 수정**
  - 볼륨 슬라이더 호버 시 마우스 이동 중 패널이 사라지는 문제 수정
  - 튜토리얼 건너뛰기 후 적 본진 파괴 시 게임이 종료되지 않던 문제 수정

### V1.10.0
- **사운드 시스템 추가**
  - Web Audio API 기반 프로시저럴 사운드 시스템
  - 외부 파일 없이 코드로 사운드 생성 (저작권 문제 없음)
  - UI 클릭, 유닛 생산, 전투, 자원 수집, 승리/패배 등 14종 사운드
  - `M` 키 또는 미니맵 좌측 스피커 아이콘으로 음소거 토글
  - 볼륨 슬라이더로 소리 크기 조절 가능
  - 튜토리얼/AI 대전/멀티플레이어 모든 모드 지원

### V1.9.5
- **튜토리얼 버그 수정**
  - 이전 게임의 알림이 새 게임에서 표시되는 문제 수정
  - 튜토리얼 조기 종료 버그 수정 (마지막 단계까지 완료해야 게임 종료)
  - 키보드 단축키(E)로 약초 판매 시 튜토리얼 진행되지 않던 문제 해결

### V1.9.4
- **튜토리얼 모드 추가**
  - 19단계 단계별 학습 시스템
  - 모든 유닛과 액션을 체험할 수 있는 가이드
  - 넉넉한 초기 자원 (골드 500, 나무 50, 돌 30, 약초 30, 수정 10)
  - 30분 게임 시간, 적 기지 HP 300
  - ESC 키로 일시정지 지원
  - 튜토리얼 UI 위치 조정 (자원바와 겹치지 않도록)
- **가장자리 스크롤 기능 추가**
  - 마우스를 화면 가장자리로 이동하면 카메라 자동 이동
  - 기본값: 비활성화
  - `Y` 키 또는 미니맵 좌측 📷 버튼으로 토글
  - 멀티플레이어 모드에서도 동작

### V1.9.3
- **유닛 밸런스 조정**
  - 마법사 비용: 150골드 + 10수정 → 150골드 + 50나무 + 10수정
  - 힐러: 힐량 10 → 5HP/초, 힐 범위 100 → 130px
- **UI 개선**
  - 게임 종료 화면: 본진 HP 통계 제거
  - 로비 화면: 버튼 패딩 조정

### V1.9.2
- **카운트다운 화면 개선**
  - 싱글플레이어 카운트다운 중 인게임 화면이 배경에 표시
  - 맵, 자원 노드, UI 패널 등을 게임 시작 전 미리 확인 가능
  - 반투명 오버레이로 카운트다운 숫자 표시
- **메뉴 UI 개선**
  - 메인 메뉴: 버튼 크기 및 간격 조정
  - 모드 선택: 카드 내 아이콘과 텍스트 간격 조정
  - 난이도 선택: 설명 박스 패딩 및 내부 간격 조정
  - 일시정지 화면: 버튼 패딩 조정, 애니메이션 속도 향상 (300ms → 200ms)

### V1.9.1
- **키보드 단축키 시스템 추가**
  - `Q`: 벽 배치 모드 토글
  - `W`: 본진 강화
  - `E`: 약초 판매
  - WASD 카메라 이동 제거 (방향키만 사용)
- **액션 패널 UI 개선**
  - 레이블 한글화 ("ACTIONS" → "액션")
  - 단축키 배지 표시 (Q, W, E)
  - 비용 표시 이모지 아이콘으로 변경
- **유닛 패널 UI 개선**
  - 공격 유닛과 지원 유닛 구분 표시
  - "공격 유닛" / "지원 유닛" 라벨 추가
- **게임 시작 카운트다운 추가**
  - AI 모드 시작 시 3-2-1 카운트다운 표시
  - 카운트다운 완료 후 게임 시작
- **일시정지 화면 개선**
  - ESC 키로 게임 재개 가능
- **알림창 버그 수정**
  - 게임 시작 시 이전 알림이 표시되는 버그 수정
  - UI 상태 초기화 함수 추가 (resetGameUI)
- **멀티플레이어 호환성**
  - 모든 UI 개선 사항 멀티플레이어 모드에도 적용

### V1.9.0
- **극악 난이도 추가**
  - 2단계 페이즈 시스템 (본진 파괴 → 보스 출현)
  - 적 본진 HP 2000, AI 골드 6/초, 행동 확률 98%
  - 1분마다 대량 발생 (풀 조합)
  - 한 번에 최대 4유닛 동시 소환
- **보스 유닛 추가**
  - HP 2000, 공격력 100, AOE 반경 80px
  - 이동속도 0.5 (매우 느림)
  - 2.5배 크기 렌더링, 붉은 글로우 효과
  - 파괴된 적 본진 위치에서 출현
- **보스 테스트 난이도 추가**
  - 적 기지 HP 1 (즉시 파괴)
  - 보스 밸런스 테스트용

### V1.8.5
- 어려움 난이도 대량 발생 밸런스 조정
  - 첫 번째 대량 발생(1분30초): 마법사 제외 (검병+궁수+기사+힐러)
  - 두 번째 이후(3분, 4분30초...): 마법사 포함 풀 조합
- 유닛 밸런스 조정
  - 기사 HP: 250 → 300 (탱커 역할 강화)
  - 광부 채집속도: 1.0 → 1.5/초
  - 채집꾼 채집속도: 2.0 → 1.5/초 (지원 유닛 균형)
  - 마법사 이동속도: 1.2 → 1.7, 사거리: 180 → 200 (기동성 및 화력 강화)
- 서버-클라이언트 CONFIG 동기화
  - 멀티플레이어 서버 유닛/구조물 설정을 클라이언트와 완전히 동기화
  - 벽 건설 비용, 약초 판매, 기지 업그레이드 비용 등 일치

### V1.8.4
- 기지 업그레이드 비용 변경
  - 1레벨: 150골드만 필요 (나무/돌 불필요)
  - 2레벨 이상: 골드 + 나무 + 돌 필요 (기존 방식)
- 힐러 이펙트 투명도 개선
  - 힐 이펙트 불투명도 40%로 조정하여 유닛 HP바 가시성 향상
- 벽 설치 가능 영역 표시
  - 벽 설치 모드 진입 시 설치 가능 영역(내 진영)을 시각적으로 표시
  - 연한 초록색 오버레이 + 중앙선 점선 표시
- 어려움 난이도 대량 발생 시간 조정
  - 2분 → 1분 30초로 빨라짐 (더 공격적인 AI)

### V1.8.3
- AI 난이도 시스템 대폭 개선
  - **중간**: 기존 어려움 수준으로 상향 (행동 주기 2.5초, 행동 확률 85%)
  - **어려움**: 더 공격적으로 변경 (행동 주기 2초, 행동 확률 95%, 다중 소환)
- 대량 발생 시스템 추가
  - 중간: 2분에 검병+궁수+기사+힐러 무료 소환 (1회)
  - 어려움: 2분마다 검병+궁수+기사+마법사+힐러 무료 소환 (반복)
  - 대량 발생 경고 UI 표시 ("대량 발생!" 알림)
  - AI 자원과 무관한 무료 소환
- 힐러 이펙트 변경
  - 이모지(➕)에서 초록색 십자가 도형으로 변경
  - 새로운 'cross' 파티클 모양 추가
- 문서 업데이트 (도움말/README)
  - 채집꾼 비용: 35 → 65 골드
  - 벽 건설 비용: 20 나무 + 10 돌 → 35 나무 + 20 돌
  - 기지 업그레이드 비용: 100 골드 + 50 돌 → 100 골드 + 50 나무 + 50 돌

### V1.8.2
- 멀티플레이어 모드 이펙트 애니메이션 버그 수정
  - 게임 루프가 시작되지 않아 이펙트가 멈춰있던 문제 해결
  - `startGame()` 호출 추가로 이펙트가 AI 모드와 동일하게 부드럽게 동작

### V1.8.1
- 멀티플레이어 모드 이펙트 시스템 지원
  - 서버에서 `UNIT_HEALED`, `RESOURCE_GATHERED` 이벤트 브로드캐스트
  - 클라이언트에서 서버 이벤트 수신 시 이펙트 생성
  - 모든 이펙트(공격/채집/힐)가 싱글/멀티플레이어 동일하게 표시
- 이펙트 이벤트 쿨타임 적용
  - 채집 이펙트: 0.3초
  - 힐 이펙트: 0.5초

### V1.8.0
- 유닛 행동 파티클 이펙트 시스템 추가
  - 근접 공격: 빨간색 파티클 방사 (검병, 기사)
  - 원거리 공격: 노란색 파티클 (궁수)
  - 마법 공격: 보라색 AOE 원형 파동 + 별 파티클 (마법사)
  - 나무 채집: 갈색 나무 조각 튀김 (나무꾼)
  - 돌 채집: 회색 돌 파편 튀김 (광부)
  - 약초 채집: 초록색 입자 상승 (채집꾼)
  - 금 채집: 금빛 별 파티클 (금광부)
  - 힐: 초록색 ➕ 이모지 상승 (힐러)
- 이펙트 성능 최적화
  - 최대 200개 이펙트, 이펙트당 30개 파티클 제한
  - 채집 이펙트 0.3초 쿨타임
  - 화면 밖 파티클 렌더링 스킵
- 유닛 크기 증가
  - 이미지 크기: 28x34 → 30x40 (세로 18% 증가)
  - 베이스 원 크기: 15 → 17 (반경)
  - 체력바 너비: 24 → 26

### V1.7.9
- 커스텀 유닛 이미지 시스템 추가
  - PNG 이미지로 유닛 표시 (이모지 대체)
  - 이미지 로드 실패 시 이모지 폴백
  - 앱 시작 시 이미지 프리로드
- 유닛 이미지 방향 자동 반전
  - 플레이어 유닛: 오른쪽(적 방향) 바라봄
  - 적/AI 유닛: 왼쪽(플레이어 방향) 바라봄
- 유닛 이미지 크기 조정 (28x34)

### V1.7.8
- 유닛별 공격속도(attackSpeed) 설정 추가
  - 검병: 1초, 궁수: 2초, 기사: 1초, 마법사: 2.5초, 힐러: 1초
- 싱글/멀티플레이어 전투 로직 일관성 확보
- 액션 패널 호버 툴팁 이모지 호환성 수정
  - 커스텀 툴팁으로 Twemoji 적용

### V1.7.7
- Twemoji 적용으로 크로스 플랫폼 이모지 호환성 확보
  - 모든 OS/브라우저에서 동일한 이모지 표시
  - UI 컴포넌트 (유닛 버튼, 자원 바, 도움말 등)
  - Canvas 렌더링 (유닛, 자원 노드, 본진)
  - 앱 시작 시 이모지 이미지 프리로드

### V1.7.6
- 힐러 로직 개선
  - 광역 회복으로 변경 (범위 내 모든 전투 유닛 회복)
  - 전투 유닛만 회복 및 따라다님 (지원 유닛 제외)
  - 아군 전투 유닛 전멸 시 적 전투 유닛 공격
- 유닛 소환 쿨타임 추가
  - 검병: 1.5초, 궁수: 3초, 기사: 5초, 마법사: 5초
  - 지원 유닛: 1초 (금광부: 2초, 힐러: 5초)
  - UI에서 쿨타임 시각적 표시
- 싱글/멀티플레이어 전투 로직 일관성 확보
  - 서버 힐러 유닛 타입 참조 버그 수정

### V1.7.5
- 미니맵 줌 비율 반영
  - 맵 축소/확대에 따라 미니맵 뷰포트 크기 동기화
  - 미니맵 클릭 시 줌 비율 고려하여 카메라 이동
- 멀티플레이어 본진 강화 레벨 표시 버그 수정
  - 서버 상태에서 업그레이드 레벨 동기화
  - UI에서 실시간 레벨 표시
- 반격 로직 개선
  - 사거리 내 공격자만 반격 (멀리서 공격받아도 가까운 적 우선)
  - 검병, 궁수, 기사, 마법사, 힐러 모두 적용

### V1.7.4
- 벽 시스템 개선
  - 벽 설치 후 30초 경과 시 자동 소멸
  - 경로상 벽만 타겟팅 (본진 방향에 있는 벽만 공격)
- 반격 시스템 추가
  - 공격받은 유닛은 공격자를 우선 타겟팅
  - 사거리 내면 즉시 반격, 사거리 밖이면 접근 후 반격
- 서버 멀티플레이어 로직 동기화

### V1.7.3
- 전투 유닛 타겟팅 버그 수정
  - 근접 유닛이 본진 근처의 적 유닛을 지나치는 문제 해결
  - 적 유닛이 벽/본진보다 가까우면 먼저 접근하도록 개선
- 도움말 UI 업데이트
  - 마법사, 힐러 유닛 정보 추가
  - 기지 업그레이드 설명 보완

### V1.7.2
- 유닛 밸런스 조정
  - 기사 공격력: 30 → 10 (탱커 역할 강화)
  - 마법사 공격력: 35 → 50 (딜러 역할 강화)

### V1.7.1
- 기지 업그레이드 최대 레벨 5 제한
- 최대 레벨 도달 시 "강화 MAX" 표시
- 문서 업데이트 (GAMEPLAY.md, BALANCE.md)

### V1.7.0
- 새로운 유닛 추가
  - 힐러: 70골드 + 15약초, 아군 HP 회복 (10HP/초, 범위 100px)
  - 마법사: 150골드 + 10수정, 범위 공격 (AOE 50px)
- 자원 노드 증가
  - 약초: 15 → 20개
  - 나무: 16 → 20개
  - 돌: 10 → 14개
  - 금광산: 8 → 10개
- 전투 유닛 타겟팅 개선
  - 우선순위: 가까운 적 유닛 > 벽 > 본진
- 힐러 행동 우선순위
  - 아군 회복 > 반격 > 대기
- 서버 멀티플레이어 로직 동기화

### V1.6.1
- 벽 타겟팅 시스템 개선
  - 유닛이 벽을 본진보다 먼저 공격
  - 공격 중인 벽이 파괴될 때까지 타겟 유지
  - 공격 중 다른 유닛에게 공격받으면 반격 후 벽으로 복귀
- 기지 업그레이드 시스템 개선
  - 업그레이드 비용 레벨당 1.5배 증가
  - 업그레이드 시 골드 수입 +1/초 추가
  - UI에 현재 레벨 및 다음 업그레이드 비용 표시

### V1.6.0
- 마우스 스크롤 줌 기능 추가 (0.5x ~ 2x)
- 맵 크기 확장 (3000x2000 → 4000x2400)
- 자원 재생성 시간 조정
  - 약초: 45초 → 30초
  - 나무: 60초 → 40초
  - 금광산: 60초 → 40초
- 자원 노드 고갈 시 재생성 로직 구현

### V1.5.3
- 서버 상태 동기화 주기 최적화 (100ms → 50ms)
- 도움말 UI 가독성 대폭 개선
- 타이머 UI 고정 너비 적용 (크기 변동 방지)
- 타이머 프로그레스 바 제거
- 멀티플레이어 게임 종료 화면 간소화
  - HP 통계 숨김
  - 기지 파괴 메시지 제거

### V1.5.2
- 멀티플레이어 통신 지연 문제 해결
- 클라이언트 측 보간(interpolation) 시스템 추가
- 유닛 위치 부드러운 이동 처리
- 골드 수입 부드러운 증가 표시
- 타이머 부드러운 감소 처리
- 서버 상태 전송 주기 최적화 (500ms → 100ms)

### V1.5.1
- 멀티플레이어 실시간 상태 동기화 완료
- 초대 코드 기반 방 시스템 구현
- 진영 배정 시스템 (방장: 왼쪽, 참가자: 오른쪽)
- 멀티플레이어 전용 렌더링 시스템 추가
- 서버 상태 기반 UI 컴포넌트 연동

### V1.5.0
- 1vs1 네트워크 멀티플레이어 모드 기본 구조 추가
- WebSocket 기반 실시간 대전 서버 구현
- 서버 권위 모델로 게임 상태 동기화
- 모노레포 구조로 프로젝트 재구성 (client/server/shared)

### V1.4.0
- AI 난이도 시스템 추가 (쉬움/중간/어려움)
- 난이도별 적 기지 HP 차등 적용
- AI 채집꾼/광부 생산 기능 추가
- AI 약초 판매 기능 추가
- 게임 시간 단축 (20분 → 10분)
- 기사 스탯 조정 (HP 200→250, 공격력 25→30)

### V1.3.0
- 벽 배치 시스템 개선 (위치 선택 가능)
- 적 공격 유닛이 벽 공격 기능 추가
- AI 밸런스 조정 (골드 수급 3/초로 감소)
- 광부 이동 속도 증가 (1.0 → 1.2)

### V1.2.0
- 기사 유닛 추가 (120G + 20W + 30S, HP 200, 공격력 25)
- 광산 수 증가 (각 진영 4개, 총 8개)
- 광산 재생성 시간 단축 (120초 → 60초)
- 유닛 전투 시스템 개선 (채집 유닛 반격 기능)
- 공격 유닛이 모든 적 유닛 타겟팅

### V1.1.0
- 광산 자원 노드 추가 (각 진영 2개씩)
- 금광부 유닛 추가 (광산에서 골드 채집)
- AI 금광부 생산 로직 추가

### V1.0.0
- 기본 게임 시스템 구현
- 5종 유닛 (검병, 궁수, 나무꾼, 광부, 채집꾼)
- 5종 자원 (골드, 나무, 돌, 약초, 수정)
- 적 AI 시스템
- 벽 건설 및 기지 업그레이드
- 미니맵 및 카메라 시스템

---

## 알려진 문제

현재 알려진 문제 없음.

---

## 라이선스

MIT License
