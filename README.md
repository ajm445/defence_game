# 막아라! 무너트려라!

> 자원을 채집하고, 기지를 세우고, 적을 무너트려라!

**RTS 모드**와 **RPG 모드**를 모두 즐길 수 있는 종합 전략 게임입니다.

**Version: 1.17.19**

---

## 게임 소개

### 🎮 게임 모드

| 모드 | 설명 | 플레이어 |
|------|------|----------|
| **RTS 모드** | 자원 채집, 유닛 생산, 기지 공략 | 싱글/멀티 |
| **RPG 모드** | 영웅 선택, 스킬 전투, 넥서스 디펜스 | 싱글/멀티(협동) |

---

## RTS 모드

10분 안에 적 기지를 파괴하세요! 자원을 채집하고, 유닛을 생산하고, 전략적으로 공격과 방어를 조율해야 합니다.

### 승리 조건
- 적 기지 HP를 0으로 만들면 **승리**
- 시간 종료 시 HP가 더 높으면 **승리**
- **극악 난이도**: 보스를 처치하면 **승리**

### 패배 조건
- 내 기지 HP가 0이 되면 **패배**
- 시간 종료 시 적 HP가 더 높거나 같으면 **패배**
- **극악 난이도**: 보스가 내 기지를 파괴하면 **패배**

---

## 기술 스택

### 클라이언트

| 기술 | 버전 | 용도 |
|------|------|------|
| React | 19.x | UI 프레임워크 |
| TypeScript | 5.x | 타입 안정성 |
| Vite | 7.x | 빌드 도구 |
| Zustand | 5.x | 상태 관리 |
| Tailwind CSS | 4.x | 스타일링 |

### 서버 (멀티플레이어 + API)

| 기술 | 버전 | 용도 |
|------|------|------|
| Node.js | 22.x | 런타임 |
| Express | 4.x | REST API 서버 |
| ws | 8.x | WebSocket 서버 |
| Supabase | 2.x | 인증 및 데이터베이스 (Admin API) |
| TypeScript | 5.x | 타입 안정성 |

---

## 설치 및 실행

### 튜토리얼 / AI 대전 (싱글플레이어)

```bash
# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 프로덕션 빌드
npm run build
```

> 처음 플레이한다면 **튜토리얼 모드**로 시작하세요! 게임의 모든 유닛과 기능을 단계별로 배울 수 있습니다.

### 1vs1 대전 (멀티플레이어)

```bash
# 전체 의존성 설치 (루트 + 서버)
npm install

# 서버 실행 (별도 터미널)
cd server
npm run dev

# 클라이언트 실행 (별도 터미널)
npm run dev
```

**플레이 방법:**
1. 한 플레이어가 "방 만들기" 클릭 → 초대 코드 생성
2. 초대 코드를 상대방에게 공유
3. 상대방이 초대 코드 입력 후 "입장" 클릭
4. 양쪽 플레이어 입장 후 게임 자동 시작

---

## 게임 플레이

### 자원

| 자원 | 아이콘 | 획득 방법 |
|------|--------|----------|
| 골드 | 금색 | 자동 획득 (기본 4/초, 업그레이드로 증가) / 금광부 (광산) |
| 나무 | 갈색 | 나무꾼 / 직접 채집 |
| 돌 | 회색 | 광부 / 직접 채집 |
| 약초 | 초록 | 채집꾼 / 직접 채집 |
| 수정 | 보라 | 채집꾼 (희귀) / 수정 노드 |

### 유닛

#### 전투 유닛

| 유닛 | 비용 | HP | 공격력 | 사거리 | 설명 |
|------|------|----|----|--------|------|
| 검병 | 50 골드 | 100 | 15 | 30 | 근접 전투 유닛 |
| 궁수 | 80 골드 + 10 나무 | 50 | 25 | 150 | 원거리 공격 유닛 |
| 기사 | 120 골드 + 20 나무 + 30 돌 | 300 | 10 | 35 | 근접 탱커 (높은 체력) |
| 마법사 | 150 골드 + 50 나무 + 10 수정 | 40 | 50 | 200 | 범위 공격 (AOE 50px) |

#### 지원 유닛

| 유닛 | 비용 | HP | 특수 능력 | 설명 |
|------|------|----|----------|------|
| 나무꾼 | 30 골드 | 60 | 채집 1.0/초 | 나무 채집 |
| 광부 | 40 골드 + 5 나무 | 70 | 채집 1.5/초 | 돌 채집 |
| 채집꾼 | 50 골드 | 50 | 채집 1.5/초 | 약초 채집 (수정 확률) |
| 금광부 | 100 골드 + 20 나무 | 70 | 채집 1.5/초 | 골드 채집 (광산) |
| 힐러 | 70 골드 + 15 약초 | 60 | 광역 회복 5HP/초 | 전투 유닛만 치료 (범위 130px) |

#### 보스 유닛 (극악 난이도 전용)

| 유닛 | 출현 조건 | HP | 공격력 | AOE | 설명 |
|------|----------|----|----|-----|------|
| 보스 | 적 본진 파괴 시 | 2000 | 100 | 80px | 느린 이동, 강력한 광역 공격 |

> 보스는 플레이어가 소환할 수 없으며, 극악 난이도 페이즈 2에서 자동 출현합니다.

### 건설

| 행동 | 비용 | 효과 |
|------|------|------|
| 벽 건설 | 40 나무 + 20 돌 | 방어벽 생성 (HP 150) |
| 기지 업그레이드 | 레벨별 증가 | 기지 HP +200, 골드 수입 +1/초 |

#### 기지 업그레이드 비용 (최대 5레벨)

| 레벨 | 골드 | 나무 | 돌 | 누적 골드 수입 |
|------|------|------|-----|---------------|
| 1 | 150 | - | - | 5/초 |
| 2 | 100 | 50 | 50 | 6/초 |
| 3 | 150 | 75 | 75 | 7/초 |
| 4 | 225 | 112 | 112 | 8/초 |
| 5 (MAX) | 337 | 168 | 168 | 9/초 |

---

### RTS 조작법

#### 키보드

| 키 | 동작 |
|----|------|
| `방향키` | 카메라 이동 |
| `Space` | 본진으로 카메라 이동 |
| `Q` | 벽 배치 모드 토글 |
| `W` | 본진 강화 |
| `E` | 약초 판매 |
| `Y` | 가장자리 스크롤 토글 |
| `M` | 사운드 켜기/끄기 |
| `ESC` | 일시정지 / 게임 재개 |

#### 마우스

| 동작 | 기능 |
|------|------|
| 좌클릭 (유닛) | 유닛 선택 |
| 우클릭 드래그 | 카메라 이동 |
| 미니맵 클릭 | 해당 위치로 이동 |
| 마우스 휠 | 줌 인/아웃 (0.5x ~ 2x) |
| 화면 가장자리 | 카메라 자동 이동 (토글 필요) |

> 📷 가장자리 스크롤: 기본 비활성화. `Y` 키 또는 미니맵 좌측 📷 버튼으로 토글.
> 🔊 사운드: `M` 키 또는 미니맵 좌측 스피커 아이콘으로 음소거 토글. 아이콘에 마우스를 올리면 볼륨 조절 가능.

---

## RPG 모드

4가지 직업 중 하나를 선택하여 영웅을 조종하고, 중앙의 넥서스를 수호하는 **넥서스 디펜스** 모드입니다.

### 게임 목표

| 조건 | 설명 |
|------|------|
| **승리** | 양쪽 적 기지 파괴 → 보스 2마리 처치 |
| **패배** | 넥서스 HP 0 또는 영웅 사망 (싱글) |

### 직업

| 직업 | HP | 공격력 | 사거리 | 특징 |
|------|-----|--------|--------|------|
| **전사** | 350 | 35 | 80 | 균형 잡힌 근접 딜러, 돌진/광전사 버프 |
| **궁수** | 250 | 45 | 150 | 고공격 원거리 딜러, 관통/화살비 |
| **기사** | 450 | 30 | 60 | 고체력 탱커, 방패 돌진/철벽 방어 |
| **마법사** | 220 | 55 | 120 | 광역 마법 딜러, 화염구/운석 낙하 |

### 스킬 시스템

| 키 | 스킬 | 설명 |
|----|------|------|
| **자동** | 기본 공격 | 사거리 내 적 자동 공격 |
| **Shift** | 스킬 | 직업별 고유 스킬 (돌진, 관통 화살, 방패 돌진, 화염구) |
| **R** | 궁극기 | 강력한 궁극기 (광전사, 화살 비, 철벽 방어, 운석 낙하) |

### RPG 조작법

| 키/입력 | 동작 |
|---------|------|
| **WASD** | 이동 |
| **Shift** | 스킬 사용 |
| **R** | 궁극기 사용 |
| **1/2/3/4/5/6** | 업그레이드 (공격력/속도/HP/공속/골드획득률/사거리) |
| **C (누르고 있기)** | 기본 공격 사거리 표시 |
| **Space** | 카메라를 영웅 위치로 |
| **ESC** | 일시정지 |
| **마우스 휠** | 줌 인/아웃 |

### 골드 & 업그레이드 시스템

- 적 처치 시 골드 획득
- 적 기지 파괴 시 난이도별 골드 획득 (쉬움 50G ~ 극한 300G)
- 골드로 영웅 스탯 업그레이드 (레벨 제한 없음, 사거리만 최대 10레벨)
- **1**: 공격력 +3, **2**: 속도 +0.08, **3**: HP +25
- **4**: 공격속도 -0.03초, **5**: 추가골드 +2, **6**: 사거리 +8 (궁수/마법사만)

### 적 AI 시스템

- **기본 행동**: 넥서스를 향해 이동 및 공격
- **어그로**: 영웅에게 공격받으면 5초간 해당 영웅 추적
- **시간 경과**: 스폰 간격 감소, 적 스탯 증가

### 협동 모드 (멀티플레이어)

2-4명이 함께 넥서스를 수호하는 협동 모드입니다.

**플레이 방법:**
1. 한 플레이어가 "협동 모드" → "방 만들기" 클릭 → 초대 코드 생성
2. 초대 코드를 다른 플레이어에게 공유
3. 다른 플레이어가 초대 코드 입력 후 "입장" 클릭
4. 각 플레이어가 직업 선택 후 "준비" 클릭
5. 모든 플레이어 준비 완료 후 호스트가 "게임 시작" 클릭

**협동 모드 특징:**
- 골드 공유: 모든 플레이어가 동일한 골드 풀 사용
- 난이도 스케일링: 플레이어 수에 따라 적 체력 증가
- 자동 부활: 사망 시 10~30초 후 자동 부활
- 넥서스 공동 수호: 넥서스 파괴 시 전원 패배

> 📖 자세한 내용은 [RPG 모드 설명서](docs/rpg-mode.md) 참조

---

## 프로젝트 구조

```
defence_game/
├── src/                      # 클라이언트 (React)
│   ├── components/           # React 컴포넌트
│   │   ├── canvas/          # 게임 렌더링 (GameCanvas, Minimap)
│   │   ├── common/          # 공통 컴포넌트 (Button, HPBar)
│   │   ├── screens/         # 화면 (MainMenu, LobbyScreen 등)
│   │   └── ui/              # UI 패널 (ResourceBar, UnitPanel 등)
│   ├── constants/           # 게임 설정 (config.ts)
│   ├── effects/             # 파티클 이펙트 시스템
│   ├── game/                # 게임 로직
│   │   ├── ai/              # 적 AI
│   │   ├── resources/       # 자원 노드 관리
│   │   └── units/           # 유닛 타입 및 동작
│   ├── hooks/               # 커스텀 훅 (게임 루프, 입력 처리)
│   ├── renderer/            # 캔버스 렌더링
│   ├── services/            # WebSocket 클라이언트, 사운드 매니저
│   ├── stores/              # Zustand 상태 관리
│   ├── types/               # TypeScript 타입
│   └── utils/               # 유틸리티 함수
├── server/                   # 멀티플레이어 서버 (Node.js)
│   └── src/
│       ├── api/             # REST API 라우터 (인증 등)
│       ├── game/            # 서버 게임 로직 (GameRoom)
│       ├── room/            # 방 관리 (RoomManager)
│       ├── services/        # Supabase Admin 클라이언트
│       ├── state/           # 서버 상태 관리
│       └── websocket/       # WebSocket + Express 서버
└── shared/                   # 공유 타입
    └── types/               # 네트워크 메시지 및 게임 타입
```

---

## 게임 밸런스

| 항목 | 값 |
|------|-----|
| 게임 시간 | 10분 |
| 맵 크기 | 4000 x 2400 |
| 기지 초기 HP | 1000 |
| 골드 자동 획득 | 기본 4/초 (업그레이드로 증가 가능) |

### AI 난이도

| 난이도 | 행동 주기 | 행동 확률 | 적 기지 HP | 특수 기능 |
|--------|----------|----------|-----------|----------|
| 쉬움 | 5초 | 60% | 1000 | - |
| 중간 | 2.5초 | 85% | 1200 | 2분에 대량 발생 1회 |
| 어려움 | 2초 | 95% | 1500 | 다중 소환 + 1분30초마다 대량 발생 |
| 극악 | 1.5초 | 98% | 2000 | 보스 페이즈 + 1분마다 대량 발생 |

#### 대량 발생 시스템
- **중간**: 2분에 검병+궁수+기사+힐러 무료 소환 (1회)
- **어려움**: 1분30초마다 대량 발생 (반복)
  - 첫 번째: 검병+궁수+기사+힐러 (마법사 제외)
  - 두 번째 이후: 검병+궁수+기사+마법사+힐러 (풀 조합)
- **극악**: 1분마다 검병+궁수+기사+마법사+힐러 대량 발생 (반복)
- 대량 발생은 AI 자원과 무관하게 무료로 소환됩니다.

#### 극악 난이도 페이즈 시스템

| 페이즈 | 조건 | 목표 |
|--------|------|------|
| 페이즈 1 | 게임 시작 | 적 본진 파괴 (HP 2000) |
| 페이즈 2 | 적 본진 파괴 | 보스 처치 |

- 적 본진을 파괴하면 **페이즈 2**가 시작되고 보스가 출현합니다.
- 보스를 처치해야 승리하며, 보스가 내 기지를 파괴하면 패배합니다.

---

## 버전 히스토리

### V1.17.19 (현재)
- **클라이언트 스킬/업그레이드 시 위치 버그 수정**
  - 스킬 사용 시 호스트 화면에서 캐릭터가 멈춰 보이던 문제
  - 클라이언트에서 스킬/업그레이드 후 과거 위치로 되돌아가던 문제
  - `PlayerInput.moveDirection`을 optional로 변경하여 이동 상태 유지
- **HP 재생 시 피격 이펙트 버그 수정**
  - 기사 패시브 HP 재생 중 붉은색 피격 이펙트가 발생하던 문제
  - 최소 5 HP 이상 감소 시에만 피격으로 판정
- **힐러 오로라 힐 이펙트 추가**
  - 힐러 패시브 오로라가 아군을 치유할 때 초록색 회복 숫자 표시
  - 누적 10 HP 이상 회복 시 한 번에 표시하여 화면 혼잡 방지

### V1.17.18
- **멀티플레이어 보스 스킬 버그 대폭 수정**
  - 보스 스킬 데미지가 가끔 적용되지 않던 문제 수정
    - 버프 duration 체크 추가 (만료된 무적/철벽 버프가 데미지 차단하던 버그)
    - 여러 보스가 같은 틱에 데미지 처리 시 stale 상태 참조 버그 수정
  - 보스 스킬 이펙트/사운드 클라이언트 동기화 수정
    - `bossSkillExecutedEffects` 동기화 배열 추가
    - 호스트에서 스킬 실행 시 이펙트 정보를 명시적으로 클라이언트에 전송
    - 기존 95% 진행도 감지 방식의 타이밍 문제 해결
  - 스턴 시 시전 취소 동기화 (`castingUntil` 동기화 추가)
- **멀티플레이어 업그레이드 계산 버그 수정**
  - 다른 플레이어 영웅의 기본 스탯 직렬화 추가 (`baseAttack`, `baseSpeed`, `baseAttackSpeed`)
  - 업그레이드가 복리로 적용되던 문제 수정

### V1.17.17
- **궁수 타겟팅 로직 수정**
  - 적과 기지를 하나의 타겟 풀로 통합하여 `multiTargetCount` 내에서 처리
  - 패시브 없음 (레벨 5 미만): 적 또는 기지 중 가까운 1개만 공격
  - 패시브 있음 (레벨 5 이상): 확률적으로 최대 3개 타겟 (적 + 기지 합산)
  - 기존 버그: 패시브 없이도 적 + 기지 동시 공격 가능했던 문제 수정

### V1.17.16
- **클라이언트 캐릭터 움직임 대폭 개선**
  - 선형 보간(lerp) → ease-out cubic 이징 함수 적용
  - 보간 시간 50ms → 80ms 증가 (네트워크 지터 흡수)
  - `HeroInterpolation` 타입 확장: `velocityX/Y`, `moveDirectionX/Y`, `moveSpeed` 필드 추가
  - 클라이언트 측 이동 시뮬레이션: 보간 완료 후 이동 방향으로 예측 이동
  - 맵 경계 제한 적용
  - 60fps에서 부드러운 캐릭터 움직임 제공

### V1.17.15
- **데미지 숫자 시스템 개선**
  - 넥서스 레이저 공격 데미지 숫자 제거 (시각적 복잡도 감소)
  - 캐릭터 기본 공격으로 적 공격 시 데미지 숫자 표시
  - 캐릭터 스킬로 적 기지 공격 시 데미지 숫자 표시
  - 모든 공격(기본 공격/스킬/궁극기)에서 기지 데미지 숫자 표시
- **부활 시 자동 카메라 고정**
  - 호스트/클라이언트 모두 부활 후 자동으로 카메라가 영웅 위치로 이동
  - Space bar를 눌러 화면을 맞출 필요 없음

### V1.17.14
- **클라이언트 동기화 버그 대폭 수정**
  - 인게임 업그레이드 후 위치 리셋 버그 수정 (업그레이드 요청에 위치 정보 포함)
  - 넥서스 레이저 공격 이펙트/사운드 중복 버그 수정
  - 적 기본 공격 이펙트 클라이언트 동기화
  - 보스 스킬 데미지 숫자 클라이언트 동기화
  - 모든 직업 W/E 스킬 클라이언트 측 실행 처리 (`handleClientSkillExecution`)
- **버그 수정**
  - `otherHeroes` Map 크기 체크 오류 수정 (`Object.keys()` → `Map.size`)
  - `processedEffectIdsRef` 메모리 누수 수정 (`Set` → `Map` with timestamp cleanup)

### V1.17.13
- **플로팅 데미지 숫자 시스템 추가**
  - 데미지가 숫자로 위로 떠오르며 페이드아웃
  - 일반 데미지: 흰색
  - 크리티컬 데미지: 금색, 더 큰 크기
  - 힐: 초록색 (+숫자)
- **피격 화면 효과 추가**
  - 비네팅 효과: HP가 낮을수록 화면 가장자리 빨갛게
  - 캐릭터 깜빡임: 피격 시 0.2초간 빨간색 깜빡임
  - 데미지 플래시: 피격 시 0.15초 화면 빨간 플래시
- **위험 경고 효과 추가**
  - HP 30% 이하 시 화면 가장자리 붉은 펄스 (심장박동 효과)

### V1.17.12
- **가디언/팔라딘 W 스킬 쿨타임 감소**
  - 기본공격 적중 시 W 스킬 쿨타임 1초 감소 (기사와 동일)
- **가디언/팔라딘 궁극기 멀티플레이 버그 수정**
  - 아군에게 버프/힐이 적용되지 않던 문제 해결
- **저격수 궁극기 이펙트 추적**
  - 타겟 이펙트가 적의 이동을 실시간 추적
- **팔라딘 특수 효과 구현**
  - 기본공격 시 주변 200px 내 아군에게 공격력 5% 힐 (본인 제외)
- **힐러 오로라 이펙트 구현**
  - 힐러 주변 150px 오로라 범위 내 아군 초당 최대HP 2% 회복 (본인 포함)
  - 녹색 오로라 시각 이펙트 추가
- **전직별 기본 공격 이펙트 색상 차별화**
  - 버서커: 붉은색, 가디언: 파란색, 저격수: 보라색, 레인저: 초록색
  - 팔라딘: 금색, 다크나이트: 어두운 보라색, 대마법사: 빨간색, 힐러: 민트색
- **2차 강화 레벨 하향** (레벨 50 → 40)
- **캐릭터 정보 UI 개선** (전직 특수 효과를 패시브와 함께 표시)

### V1.17.11
- **멀티플레이어 전직 캐릭터 부활 동기화 수정**
  - 클라이언트에서 전직된 캐릭터 부활 시 `advancedClass`, `tier` 동기화 추가
  - `config` 전체 스탯(name, attack, speed 등) 동기화 추가
  - `baseAttack`, `baseSpeed` 동기화 추가
- **보스 회복 스킬 알림 추가**
  - 호스트: `"⚠️ 보스가 회복합니다! (+N%)"` 알림 표시
  - 클라이언트: `"⚠️ 보스가 회복합니다!"` 알림 표시
- **보스 돌진 이동 자연스럽게 개선**
  - `RPGEnemy`에 `dashState` 필드 추가
  - 돌진 스킬 실행 시 0.3초 동안 부드럽게 이동
  - 게임 루프에서 보스 위치를 점진적으로 보간 처리
- **멀티플레이어 보스 돌진 동기화 수정**
  - `SerializedEnemy`에 `dashState` 필드 추가
  - 적 직렬화/역직렬화에 `dashState` 포함
  - 클라이언트에서도 보스가 자연스럽게 이동
- **난이도 조절 (어려움/극한 상향)**
  - 어려움: 적 HP 2.5x, 공격 2.0x, 기지 HP 2.5x, 스폰 수 1.8x (추천 레벨: 25+)
  - 극한: 적 HP 3.5x, 공격 2.8x, 기지 HP 3.5x, 스폰 수 2.5x (추천 레벨: 40+)
  - 난이도 설명에 추천 레벨 표시 추가

### V1.17.10
- **멀티플레이어 틱 스킬 동기화 버그 수정**
  - `dark_blade` (다크나이트 E): effectManager → addSkillEffect 변경
  - `spring_of_life` (힐러 E): effectManager → addSkillEffect 변경
  - 호스트에서만 보이던 틱 이펙트가 클라이언트에도 동기화됨
- **클라이언트 pendingSkill 이펙트 처리 개선**
  - `inferno_burn` 케이스 추가 (대마법사 W 화상 효과)
  - `meteor_shower` duration 0.5초 → 2.0초로 수정
  - `dark_blade`, `spring_of_life` addSkillEffect 사용으로 통일

### V1.17.9
- **대마법사 W 스킬 (인페르노) 화상 효과 추가**
  - 스킬 사용 시 2초간 지속되는 화상 지역 생성
  - 화상 지역 내 적과 기지에 초당 20% 추가 데미지
  - `inferno_burn` 시각 효과 추가 (불타는 바닥 + 불꽃 파티클)
  - pendingSkill 시스템을 통한 틱 데미지 구현
- **대마법사 E 스킬 (메테오 샤워) 이펙트 개선**
  - 운석들이 순차적으로 위에서 아래로 떨어지는 모션으로 변경
  - 랜덤 위치 제거 → 고정된 위치에 운석 배치
  - 운석 본체: 타원형 + 글로우 효과 + 밝은 중심
  - 운석 꼬리: 위로 길게 그라디언트 표현
  - 충돌 시 폭발 효과 (흰색→노란색→주황색)
  - 경고 범위 점선 원 표시
  - 이펙트 지속시간 0.5초 → 2.0초로 증가
- **pendingSkill casterId 버그 수정**
  - 모든 pendingSkill 객체에서 `casterId` → `casterId || hero.id`로 변경
  - 영향받는 스킬: 마법사 E, 저격수 E, 다크나이트 E, 힐러 E, 대마법사 W/E
- **executeAdvancedWSkill 함수 수정**
  - `pendingSkill` 변수 선언 추가
  - return 문에 `pendingSkill` 반환 추가

### V1.17.8
- **저격수 W 스킬 이동속도 버프 수정**
  - 공격속도가 아닌 이동속도 30% 증가로 변경
  - 신규 `swiftness` 버프 타입 추가 (types/rpg.ts)
  - `moveSpeedBonus` 필드 추가 (Buff 인터페이스)
  - heroUnit.ts에서 이동속도 버프 적용 로직 추가
  - RPGHeroPanel.tsx에 신속 버프 아이콘(💨) 표시 추가
- **전직 변경 시 SP/스탯 초기화**
  - 전직 변경 시 레벨 15, SP 14로 초기화
  - 전직 변경 시 스탯 업그레이드 리셋 (모두 0)
  - UI 경고 메시지 업데이트 (CharacterUpgradeModal.tsx)
- **방 설정 UI 버그 수정**
  - 프로필 화면에서 방으로 돌아올 때 설정(공개/비밀, 난이도)이 기본값으로 초기화되던 버그 수정
  - 서버 COOP_ROOM_CREATED 응답에 `isPrivate`, `difficulty` 필드 추가
  - 클라이언트에서 방 설정을 multiplayer 스토어에 저장하여 화면 전환 시에도 유지
- **AdvancedSkillConfig 타입 개선**
  - `range` 속성 추가 (저격수 E 스킬 사거리 설정용)

### V1.17.7
- **사망한 캐릭터 관련 버그 대폭 수정**
  - 사망한 영웅에게 힐/버프 적용되지 않도록 수정 (skillSystem.ts, useRPGGameLoop.ts)
  - 사망한 영웅이 스킬 사용/요청 불가하도록 수정 (handleSkillExecution, requestSkill)
  - 보스 스킬이 사망한 영웅에게 데미지/스턴/넉백 적용 안 함
  - 적이 사망한 영웅에게 데미지 적용 안 함 (멀티플레이어)
  - 사망한 영웅이 업그레이드 불가 (키보드 단축키 + 원격 입력)
  - 사망한 영웅이 이동 불가 (멀티플레이어 원격 입력)
  - 다른 플레이어 영웅 스킬 실행 시 사망 체크 추가 (executeOtherHeroSkill)
- **부활 시 상태 초기화 수정**
  - 다른 플레이어 부활 시 `castingUntil`, `dashState` 초기화 추가
- **힐/버프 적용 대상 필터링**
  - 팔라딘 W 스킬: 사망한 아군 힐 제외
  - 힐러 W 스킬: 사망한 아군 힐 제외
  - 힐러 E 스킬: 사망한 아군 힐/무적 제외
  - 가디언 E 스킬: 사망한 아군 철벽 버프 제외

### V1.17.6
- **스나이퍼 E 스킬 (저격) 개선**
  - 타겟이 없으면 스킬 사용 불가 및 쿨타임 시작 안 함
  - 마우스 방향 30도 내 적이 있을 때만 스킬 발동
- **스킬 결과 처리 개선**
  - `allyHeals`, `allyBuffs` 호스트에서 제대로 처리되도록 수정
  - W/E 스킬 실행 시 `allies` 배열 전달 누락 수정
- **사운드 중복 재생 수정**
  - `meteor_shower`, `spring_of_life` 등 틱 스킬 사운드 개별 처리
- **사망/부활 시 상태 초기화**
  - 사망 시 `castingUntil`, `dashState` 초기화
  - 부활 시 `castingUntil`, `dashState` 초기화

### V1.17.5
- **전직 스킬 실행 버그 수정**
  - 전직 캐릭터 스킬이 쿨타임만 돌고 실행되지 않던 치명적 버그 수정
  - `handleSkillExecution`에서 기본 직업 스킬 타입과 비교하던 로직을 영웅의 실제 스킬 타입으로 변경
- **전직 스킬 UI 완성**
  - 전직 스킬 설명 표시 (`getSkillDescription`에서 ADVANCED_W_SKILLS, ADVANCED_E_SKILLS 검색 추가)
  - 전직 스킬 아이콘 16종 추가 (W: 🩸😡🔙🎯✝️🗡️🔥💚 / E: 😡🛡️🎯🌪️☀️⚫☄️💧)
  - 전직 스킬 사거리 표시 지원 (`getSkillRangeInfo` 업데이트)

### V1.17.4
- **전직 시스템 멀티플레이 동기화 완성**
  - SerializedHero에 advancedClass, tier 필드 추가
  - 멀티플레이 방 생성/참가/직업 변경 시 전직 정보 동기화
  - 싱글플레이 게임 시작/재시작 시 전직 정보 로드
  - 클라이언트 스킬 실행 시 전직 스킬 정확히 실행
  - 아군 힐/버프 효과 멀티플레이 동기화
- **서버 API 전직 정보 지원**
  - 프로필 API에서 advancedClass, tier 저장/로드
  - DB 마이그레이션 스크립트 추가 (006_add_job_advancement.sql)
- **빌드 오류 수정**
  - AdvancedSkillConfig의 type을 string에서 SkillType으로 변경
  - 사용되지 않는 파라미터 처리

### V1.17.3
- **전직 시스템 완성 (싱글플레이)**
  - 레벨 15 도달 시 전직 가능
  - 레벨 50 도달 시 자동 2차 강화 (전직한 캐릭터만)
  - 8개 전직 직업 추가 (버서커, 가디언, 저격수, 레인저, 팔라딘, 다크나이트, 대마법사, 힐러)
  - 전직 직업별 고유 W/E 스킬 구현
  - 전직 시 스탯, SP 업그레이드, 레벨, 경험치 유지
- **스탯 계산 시스템**
  - 1차 전직: 전직 직업 절대 스탯 (기본 직업보다 모두 높음)
  - 2차 강화: 전직 기본 스탯 × 1.2

### V1.17.2
- **멀티플레이 버그 수정**
  - 게임 시작 후 플레이어 정보 동기화 오류 수정

### V1.17.1
- **경험치 시스템 대폭 개선**
  - 난이도별 처치 경험치 배율 적용 (쉬움 1.0x ~ 극한 2.0x)
  - 승리 보너스 난이도별 차등화 (쉬움 50 ~ 극한 500)
  - 패배 시 획득 경험치 50% 감소 페널티
- **직업 경험치 상향**
  - 기지 파괴: 15 → 25점
  - 보스 처치: 25 → 40점
  - 적 처치: 1 → 1.5점
  - 직업 승리 보너스 추가 (쉬움 40 ~ 극한 400)
- **미사용 코드 제거**
  - `DEAD_PLAYER_RATIO` 상수 제거

### V1.17.0
- **보스 스킬 멀티플레이어 동기화**
  - 보스 스킬 경고(bossSkillWarnings) 호스트→클라이언트 동기화
  - 클라이언트에서 경고 렌더링 및 이펙트/사운드 재생 지원
  - 모든 6종 스킬 (강타, 소환, 충격파, 밀어내기, 돌진, 회복) 완전 동기화
- **보스 스킬 경고 렌더링 추가**
  - 밀어내기: 노란색 원형 + 방사형 화살표
  - 돌진: 파란색 직선 경로 + 목표 지점 표시
  - 회복: 녹색 원형 + 십자가 패턴 + 상승하는 + 파티클
- **보스 스킬 이펙트/사운드**
  - 클라이언트가 경고 95% 진행 시 이펙트와 사운드 자동 재생
  - 호스트와 동일한 시각/청각 피드백 보장
- **버그 수정**
  - heal 스킬 경고 렌더링 안 되던 문제 수정 (radius 0 → 기본값 80)
  - UnitState 타입에 'casting' 추가

### V1.16.7
- **RPG 모드 BGM 시스템 추가**
  - 전투 BGM: 앰비언트 드론 + 아르페지오 멜로디
  - 보스 BGM: 긴장감 있는 펄스 비트
  - 게임 시작 시 자동 재생, 보스 페이즈 전환 시 변경
- **넥서스 레이저 방어 시스템**
  - 넥서스가 범위 내 모든 적에게 약한 레이저 공격
  - 시각 효과: 빔 + 스파크 파티클
- **사망 버그 수정**
  - 영웅 사망 후 죽은 마커가 움직이던 버그 수정
  - 사망 시 이동/공격 즉시 중단
- **사운드 설정 저장 기능**
  - 로그인 사용자: DB에 설정 저장
  - 게스트: localStorage에 저장 (로그아웃 시 초기화)
  - BGM 볼륨이 마스터 볼륨과 동기화

### V1.16.6
- **RPG 적 밸런스 조정**
  - RPG 전용 적 스탯 분리 (`RPG_ENEMY_CONFIGS`)
  - 궁수: HP 50→70, ATK 20→18
  - 기사: HP 300→280, ATK 12→18
  - 마법사: HP 40→55, ATK 35→30
- **난이도별 경험치 배율**
  - 쉬움: 1.0x, 중간: 1.2x, 어려움: 1.5x, 극한: 2.0x
  - 플레이어 EXP, 클래스 EXP 모두 적용
- **난이도별 스폰 수 배율**
  - 쉬움: 1.0x, 중간: 1.2x, 어려움: 1.5x, 극한: 2.0x
  - 기존 시간 기반 스폰 수에 배율 적용
- **멀티플레이어 인원수 스케일링**
  - 적 HP에 플레이어 수 배율 적용
  - 1인: 1.0x, 2인: 1.5x, 3인: 2.0x, 4인: 2.5x
- **멀티플레이어 난이도 동기화 강화**
  - 게임 시작 시 서버에서 난이도 명시적 전달
  - 호스트/클라이언트 모두 동일 난이도 보장

### V1.16.5
- **개인 처치 수 시스템 (멀티플레이어)**
  - 적 처치 수가 개별 플레이어별로 추적됨
  - 혼자 처치: 해당 플레이어만 +1
  - 공동 처치 (여러 명이 공격): 관여한 모든 플레이어 +1
  - 게임 결과 화면에서 개인 처치/팀 처치 구분 표시
  - 경험치 계산 시 개인 처치 수 기준으로 적용
- **다른 플레이어 영웅 보간 개선 (클라이언트)**
  - 호스트가 아닌 클라이언트에서 다른 플레이어의 움직임이 부드럽게 표시
  - 위치 보간(lerp) 적용으로 계단 현상 해결
  - 매 프레임 보간 업데이트 처리

### V1.16.4
- **게임 종료 후 로비 복귀 시 방 설정 유지**
  - 게임 방(`RPGCoopGameRoom`)에 `isPrivate`, `difficulty` 저장
  - `COOP_RETURN_TO_LOBBY` 메시지에 방 설정 포함
  - 로비 복귀 시 난이도/비밀방 설정이 UI에 즉시 반영
- **게임 재시작 시 동일 난이도 적용**
  - 멀티플레이어 상태에 `roomIsPrivate`, `roomDifficulty` 필드 추가
  - 로비에서 스토어의 설정을 읽어 로컬 상태 동기화

### V1.16.3
- **비밀방 참가 로직 개선**
  - 공개방에서 비밀방으로 변경 시 서버 측 검증 추가
  - 비밀방 클릭 시 코드 입력 후 코드 기반 참가로 변경
- **방 설정 동기화 개선**
  - 방 참가 시 현재 방 설정(비밀방 여부, 난이도) 즉시 수신
  - `COOP_ROOM_JOINED` 메시지에 `isPrivate`, `difficulty` 필드 추가

### V1.16.2
- **RPG 난이도 시스템 추가**
  - 4가지 난이도: 쉬움, 중간, 어려움, 극한
  - 난이도별 배율 적용: 적 HP, 공격력, 스폰 간격, 골드 보상, 보스 스탯
  - 적 기지 HP도 난이도에 따라 스케일링
- **방 생성 시 난이도 선택**
  - 방 생성 모달에서 방 유형(공개/비밀)과 난이도 동시 선택
  - 방 목록에서 각 방의 난이도를 색상별 배지로 표시
- **로비 내 방 설정 변경**
  - 호스트가 로비에서 방 유형과 난이도를 실시간 변경 가능
  - 변경 시 서버 로그 출력 및 모든 플레이어에게 동기화
- **버그 수정**
  - 호스트가 방 생성 후 직업 변경이 안 되던 문제 수정

### V1.16.1
- **적 AI 탐지 범위 조정**
  - 모든 적 유닛 탐지 범위 100 감소
- **게임 결과 UI 수정**

### V1.16.0
- **적 AI 로직 재작성**
- **클래스 밸런스 조정**
- **로그인 세션 개선**

### V1.15.27
- **멀티플레이어 기지 확장 시스템**
  - 플레이어 수에 따라 적 기지 수 증가
  - 1~2인: 좌, 우 (2개 기지)
  - 3인: 좌, 우, 상 (3개 기지)
  - 4인: 좌, 우, 상, 하 (4개 기지)
  - `EnemyBaseId` 타입 확장: `'left' | 'right' | 'top' | 'bottom'`
- **멀티플레이어 호스트 위임 시스템**
  - 대기방에서 호스트가 나가면 다른 플레이어에게 호스트 위임
  - 게임 종료 후 로비 복귀 상태에서도 호스트 위임 지원
  - 게임 중에만 호스트 퇴장 시 방 파기
  - `transferHostAndLeave()`: 호스트 위임 및 퇴장 처리 함수 추가
  - `isInLobby()`: 로비 상태 확인 함수 추가
- **호스트 위임 후 UI 자동 갱신**
  - 새 호스트에게 "게임 시작" 버튼 표시
  - `COOP_ROOM_JOINED` 메시지에서 호스트 여부 자동 감지

### V1.15.26
- **싱글플레이 사망 시 게임 멈춤 버그 수정**
  - 영웅 사망 시 게임 로직이 중단되던 문제 해결
  - 사망해도 적 AI, 넥서스 데미지 등 게임 계속 진행
  - 부활 후 정상적으로 전투 재개
- **SP 공격속도 업그레이드 소수점 표시 수정**
  - 부동소수점 오류로 긴 소수점이 표시되던 문제 해결 (0.35000000000000003 → 0.35)
  - `attackSpeed` 스탯에 `toFixed(2)` 포맷팅 적용
- **인게임 업그레이드 비용 체계 변경**
  - 기존: 지수 증가 (50 × 1.5^레벨) - 50, 75, 112, 168...
  - 변경: 선형 비례 증가 (50 × (레벨+1)) - 50, 100, 150, 200...
  - 1레벨은 50골드 고정, 이후 레벨에 비례하여 증가

### V1.15.25
- **멀티플레이어 방 나가기 버그 수정**
  - 게임 중단 후 클라이언트가 "방 나가기"를 눌러도 실제로 방에서 나가지 않던 문제 해결
  - 게임 방(coopGameRooms)에서도 플레이어 제거 처리 추가
- **멀티플레이어 방 목록 유지 기능**
  - 게임 시작 후에도 방이 로비 목록에 유지됨
  - 게임 중인 방은 "게임 중" 표시와 함께 입장 불가
  - 로비 복귀 시 방 상태가 자동으로 "대기 중"으로 변경되어 다시 입장 가능
- **대기 방/게임 방 상태 동기화**
  - `setWaitingRoomState()`: 대기 방 상태 업데이트 함수 추가
  - `syncWaitingRoomPlayers()`: 플레이어 목록 동기화 함수 추가
  - 게임 종료/플레이어 퇴장 시 대기 방 정보 자동 동기화

### V1.15.24
- **멀티플레이어 일시정지 시스템 추가**
  - 호스트가 ESC 누르면 모든 클라이언트도 일시정지 화면 표시
  - 호스트의 결정(계속/게임 중단)에 따라 모든 플레이어 동작
  - 클라이언트는 ESC를 눌러도 게임이 멈추지 않음 (소리 설정만 가능)
  - 소리 설정은 개별 설정 (전체 동기화 제외)
- **멀티플레이어 게임 중단 기능**
  - 호스트 일시정지 메뉴에서 "게임 중단" 버튼
  - 게임 중단 시 모든 플레이어에게 게임 오버 적용
- **멀티플레이어 게임 재시작 버그 수정**
  - 재시작 후 클라이언트가 캐릭터만 보이고 각자 동작하던 문제 해결
  - isMultiplayer 상태 및 roomCode/roomId 유지하도록 수정
- **게임 재시작 후 로비에서 직업 변경/시작 버그 수정**
  - 게임 종료 후 로비 복귀 시 직업 변경이 안되던 문제 해결
  - RPGCoopGameRoom에 changePlayerClass 메서드 추가
  - coopGameRooms에서도 직업 변경/게임 시작 처리
- **로그인/로그아웃 서버 로그 기능**
  - 로그인 시 서버에 `[Auth] 로그인: 닉네임 (Lv.X) [일반/게스트]` 로그
  - 로그아웃 시 서버에 `[Auth] 로그아웃: 닉네임` 로그
  - 로그인 시 WebSocket 자동 연결하여 알림 전송

### V1.15.23
- **RPG 대기방 프로필 버튼 추가**
  - 왼쪽 상단에 프로필 버튼 표시
  - 닉네임, 레벨, 경험치 바 표시
  - 클릭 시 프로필 화면으로 이동
- **대기방 플레이어 목록에 직업 레벨 표시**
  - 각 플레이어의 선택한 직업 레벨 표시
  - 직업 변경 시 레벨 실시간 동기화
- **로그인 에러 메시지 한글화**
  - 'Invalid login credentials' → '계정을 다시 확인해주세요.'
- **게임 종료 후 나가기 버튼 개선**
  - '방 파기' → '나가기'로 텍스트 변경
  - 나가기 클릭 시 대기방으로 이동

### V1.15.22
- **멀티플레이어 기본 공격 AoE 버그 수정**
  - 클라이언트 전사/기사/마법사 기본 공격이 단일 타겟으로 적용되던 문제 해결
  - 호스트와 동일하게 범위 공격 적용
- **멀티플레이어 AoE 공격 시 적 기지 데미지 적용**
  - 범위 공격 시 적과 기지가 함께 있을 때 기지에도 데미지 적용
- **광전사 버프 피해흡혈 모든 클래스 적용**
  - 광전사 버프를 공유받은 모든 클래스에 피해흡혈 효과 적용
  - 기존: 전사 클래스만 피해흡혈 적용
- **클라이언트 이동 러버밴딩 수정**
  - 클라이언트 캐릭터가 이동 중 반대 방향으로 당겨지던 현상 수정
  - 이동 중에는 로컬 위치 우선, 정지 시에만 서버 위치 보정

### V1.15.13
- **멀티플레이어 적 AI 타겟팅 버그 수정**
  - 사망한 호스트 영웅이 적 AI의 타겟 목록에서 제외되지 않던 문제 해결
  - `allHeroes` 배열에 살아있는 영웅만 포함하도록 수정

### V1.15.12
- **같은 타입 버프 지속시간 처리 개선**
  - 여러 플레이어가 같은 버프를 시전할 때 더 긴 지속시간 유지
  - `addBuff()` 함수에서 기존 버프와 새 버프의 지속시간 비교 후 긴 것 선택

### V1.15.11
- **멀티플레이어 맵 경계 일관성 수정**
  - 다른 플레이어 영웅 이동 시 30px 마진 적용 (호스트와 동일)
- **버프 공유 로직 개선**
  - 여러 플레이어가 같은 타입 버프 시전 시 다른 시전자 버프 유지
  - casterId 기반 버프 필터링으로 중복 방지

### V1.15.10
- **패시브 성장 null 체크 추가**
  - 캐릭터 레벨 5 미만일 때 `passiveGrowth` null 참조로 인한 크래시 방지
  - skillSystem.ts의 모든 패시브 관련 코드에 안전한 접근 추가
- **멀티플레이어 스킬 실행 버그 수정**
  - 다른 플레이어의 W 스킬 실행 시 적 기지 데미지 미적용 문제 해결
  - 다른 플레이어의 E 스킬 실행 시 casterId 누락으로 인한 골드 분배 오류 수정

### V1.15.9
- **멀티플레이어 위치 동기화 개선**
  - 클라이언트 위치 예측과 호스트 위치 간 오차가 50px 초과 시 부드러운 lerp 보정 적용
  - 네트워크 지연으로 인한 캐릭터 위치 불일치 현상 완화
- **버프 지속시간 버그 수정**
  - 부활 후 무적 버프가 즉시 적용되지 않던 문제 해결
  - 새로 추가된 버프의 첫 프레임 지속시간 감소 건너뛰기
  - 오라 버프 공유 시에도 동일한 로직 적용

### V1.15.8
- **멀티플레이어 호스트 사망 시 게임 멈춤 버그 수정**
  - 호스트가 사망하면 적들이 공격을 멈추고 게임이 멈추던 문제 해결
  - 호스트 부활 대기 중에도 적 AI와 넥서스 데미지 로직 계속 실행
  - 싱글플레이어에서는 기존 동작 유지 (사망 시 게임 로직 일시 정지)
- **멀티플레이어 캐릭터 패시브 동기화 완전 수정**
  - **궁수**: 다중타겟 패시브 적용 (호스트와 동일하게 최대 3명 공격)
  - **기사**: HP 재생 패시브 적용 (호스트와 동일하게 초당 5+ HP 회복)
  - **마법사**: 데미지 보너스 패시브 적용 (호스트와 동일하게 25%+ 증가)
  - **기사**: Q 스킬 적중 시 W 스킬 쿨다운 1초 감소
- **적 기지 공격 시 마법사 데미지 보너스 패시브 적용**
  - 호스트 및 다른 플레이어 모두 기지 공격 시 데미지 보너스 적용

### V1.15.7
- **멀티플레이어 게임 종료 동기화 버그 수정**
  - 호스트가 게임 클리어 시 클라이언트들에게 "게임이 중단되었습니다"로 표시되던 문제 해결
  - 게임 종료 시 HOST_GAME_OVER 메시지를 클라이언트들에게 전송하도록 수정
  - 승리/패배 모든 상황에서 정상적인 게임 종료 화면 표시

### V1.15.6
- **클라이언트 버프 스킬 호스트 적용 버그 수정**
  - 비호스트 플레이어의 버프 스킬이 호스트에서 제대로 적용되지 않던 문제 해결
  - 멀티플레이어에서 버프 효과가 모든 플레이어에게 정상 동기화

### V1.15.5
- **게임 종료 시 경험치 저장 버그 수정**
  - 게임 종료 시 경험치가 저장되지 않던 문제 해결
  - 싱글/멀티플레이어 모두에서 경험치 정상 저장

### V1.15.4
- **오라 버프 시스템 개선**
  - 오라 버프 시스템 및 스킬 이펙트 동기화 개선
  - 멀티플레이어에서 오라 이펙트 정상 표시
- **광전사 버프 범위 시스템 개선**
  - 광전사 버프 범위 시스템 및 피해흡혈 적용 범위 개선
  - 버프 효과가 올바른 범위 내 아군에게 적용

### V1.15.3
- **멀티플레이어 캐릭터 정보 동기화 개선**
  - 캐릭터 레벨/SP 정보 전송 수정
  - 멀티플레이어 버프 동기화 및 공격 이펙트 통일
- **멀티플레이어 버그 수정**
  - 기본 공격 이펙트 및 버프 공유 버그 수정
  - 모든 플레이어에게 동일한 이펙트 표시

### V1.15.2
- **RPG 모드 UI 개선**
  - 네비게이션 개선 및 UI 업데이트
- **보스 밸런스 조정**
  - 멀티플레이 골드 분배 시스템 개선
  - 보스전 밸런스 최적화
- **버그 수정**
  - 플레이어 사망 시 적 넥서스 타겟팅 버그 수정
  - 보스 중복 스폰 버그 수정
  - SP 초기화 버그 수정

### V1.15.1
- **스킬 기지 데미지 기능 추가**
  - 모든 스킬(Q, W, E)이 적 기지에 데미지를 입힐 수 있도록 개선
  - 기본 공격뿐만 아니라 스킬(Shift), 궁극기(R)도 기지에 피해 가능
  - 범위 스킬로 기지 공략 전략 다양화
- **골드 획득량 대폭 상향**
  - 근접 적(melee): 5 → 12 (+140%)
  - 원거리 적(ranged): 8 → 18 (+125%)
  - 기사 적(knight): 15 → 35 (+133%)
  - 마법사 적(mage): 45 (신규)
  - 보스: 200 → 500 (+150%)
- **보스 스폰 버그 수정**
  - 보스 페이즈 진입 시 즉시 승리 처리되던 문제 해결
  - 보스 스폰 프레임에서 승리 체크 스킵하도록 수정
- **게임 재입장 시 데이터 잔존 버그 수정**
  - 비정상 종료 후 재입장 시 이전 게임 데이터가 남아있던 문제 해결
  - initGame에서 모든 게임 상태 명시적 초기화 추가

### V1.15.0
- **인게임 업그레이드 시스템 확장**
  - 공격속도(공속) 업그레이드 추가 (키보드 단축키: 4)
  - 사거리 업그레이드 추가 (궁수/마법사 전용, 키보드 단축키: 6)
  - 골드획득률 업그레이드 단축키 변경 (4 → 5)
  - 사거리 업그레이드는 최대 10레벨 제한 (레벨당 +8 사거리)
- **인게임 업그레이드 레벨 제한 해제**
  - 기존: 캐릭터 레벨에 따른 업그레이드 최대 레벨 제한
  - 변경: 골드만 있으면 무제한 업그레이드 가능 (사거리 제외)
  - 업그레이드 비용은 레벨에 따라 점진적으로 증가
- **SP 스탯 업그레이드 확장**
  - 공격속도(공속) SP 업그레이드 추가 (레벨당 -0.05초)
  - 모든 캐릭터에서 공격속도 SP 업그레이드 가능
- **멀티플레이어 부활 시스템 완성**
  - 비호스트 플레이어의 부활이 정상 동작하도록 수정
  - 사망 시간(deathTime) 동기화 추가
  - 호스트에서 다른 플레이어 부활 처리 로직 추가
- **멀티플레이어 업그레이드 동기화 개선**
  - 공격속도/사거리 업그레이드가 비호스트에서 적용되지 않던 문제 수정
  - 서버로부터 받은 config(attackSpeed, range) 동기화 추가
  - 새 업그레이드 타입(attackSpeed, range)에 대한 네트워크 메시지 지원

### V1.14.3
- **SP 스탯 업그레이드 레벨 제한 제거**
  - 공격력, 이동속도, 체력, 사거리, 체력 재생 모든 스탯 무제한 업그레이드 가능
  - 플레이어 레벨을 올려야 SP를 획득할 수 있으므로 자연스러운 밸런스 유지
  - UI에서 최대 레벨 표시 제거 (현재 레벨만 표시)
- **RPG 멀티플레이어 캐릭터 정보 동기화**
  - SP 스탯 업그레이드(statUpgrades)가 멀티플레이어에서 적용되지 않던 문제 수정
  - 멀티플레이어 영웅 초기화 시 싱글플레이어와 동일하게 SP 보너스 적용
  - 공격력, 이동속도, 체력, 사거리 SP 보너스 완전 동기화
- **멀티플레이어 업그레이드 시스템 완성**
  - COOP_UPGRADE_HERO_STAT 메시지 핸들러 구현
  - 각 플레이어의 characterLevel을 개별 업그레이드 상한으로 적용
  - 플레이어별 레벨이 다르면 최대 업그레이드 레벨도 다르게 적용
- **멀티플레이어 HP 재생 버그 수정**
  - SP hpRegen 업그레이드 보너스가 멀티플레이어에서 적용되지 않던 문제 수정
  - 전사, 기사 직업에서 싱글플레이어와 동일하게 HP 재생 적용
- **멀티플레이어 경험치 서버 저장 버그 수정**
  - 협동 모드 게임 종료 시 경험치가 서버에 저장되지 않던 치명적 버그 수정
  - processGameResult 함수를 통해 싱글플레이어와 동일하게 DB 저장
- **경험치 중복 저장 버그 완전 수정**
  - classProgressList 변경 시 expSavedRef가 잘못 초기화되어 경험치가 중복 저장되던 문제 해결
  - 새 게임 시작 시에만 expSavedRef 초기화하도록 수정
- **게스트 계정 브라우저 멈춤 버그 수정**
  - 게스트 계정으로 싱글플레이 중 캐릭터 사망 시 발생하던 브라우저 멈춤 문제 해결
  - RPGModeScreen useEffect에서 게스트 체크 추가
  - useProfileStore handleGameEnd에서 게스트 체크 추가 (이중 방어)

### V1.14.2
- **경험치 중복 저장 버그 부분 수정 (V1.14.3에서 완전 수정)**
  - useEffect 의존성 배열 문제로 인한 중복 호출 부분 방지
- **싱글/멀티플레이 로직 동기화**
  - 맵 크기 통일 (3000×2000)
  - 넥서스 위치 통일 (중앙: 1500, 1000)
  - 적 기지 위치 통일 (좌: 150, 우: 2850)
  - goldRate 계산 방식 통일 (고정 +2 골드/레벨)
  - 스폰 시스템 통일 (양쪽 기지 동시 스폰)
  - 멀티플레이에서 캐릭터 레벨 전달 기능 추가
- **SP 저장 버그 수정**
  - 캐릭터 레벨업 시 SP가 저장되지 않던 문제 해결
  - 서버 API에서 sp, statUpgrades 필드 저장/조회 누락 수정
- **맵 렌더링 버그 수정**
  - 캐릭터 이동 시 넥서스/적 기지가 함께 움직이던 문제 해결
  - 넥서스/기지 카메라 좌표 변환을 다른 엔티티와 동일하게 수정

### V1.14.1
- **SP 초기화 기능 추가**
  - 프로필에서 캐릭터 스탯 초기화 버튼 추가
  - 사용한 SP 전액 환불
  - 초기화 확인 다이얼로그로 실수 방지
- **프로필 화면 UI 개선**
  - 캐릭터 해금 조건 섹션 제거 (불필요한 중복 정보)
  - 클래스 진행 카드 높이 통일 (기사, 마법사 카드 잘림 현상 해결)
  - 화면 스크롤 가능하도록 개선
- **버그 수정**
  - 해금된 캐릭터 카드 클릭 시 모달이 표시되지 않던 문제 수정
  - statUpgrades null 안전성 강화 (기존 데이터 호환성 개선)

### V1.14.0
- **RPG 모드 넥서스 디펜스로 전환**
  - 기존 웨이브 서바이벌 → 넥서스 디펜스 게임 방식으로 변경
  - 중앙 넥서스 수호, 좌우 적 기지 파괴, 보스 2마리 처치로 승리
  - 적이 넥서스를 향해 이동하며 공격
- **골드 기반 업그레이드 시스템**
  - 인게임 레벨업 제거, 골드로 스탯 업그레이드
  - 1: 공격력, 2: 이동속도, 3: HP, 4: 골드획득률
  - 최대 업그레이드 레벨 = 캐릭터(직업) 레벨
- **적 AI 어그로 시스템**
  - 기본: 넥서스를 향해 이동 및 공격
  - 영웅에게 공격받으면 5초간 해당 영웅 추적
- **UI 개선**
  - 인게임 골드 표시 추가
  - 업그레이드 버튼 2x2 컴팩트 그리드로 변경
- **멀티플레이 통합**
  - 싱글/멀티 동일한 넥서스 디펜스 방식 적용
  - 멀티에서 영웅 사망 시 부활 시스템 유지
- **패시브 시스템 변경**
  - 웨이브 기반 → 캐릭터 레벨 기반으로 변경
  - 캐릭터 레벨 5 이상 시 패시브 활성화

### V1.13.3
- **인증 아키텍처 개선**
  - 프론트엔드 → 백엔드 API → Supabase 흐름으로 변경
  - 프론트엔드에서 Supabase 직접 호출 완전 제거
  - 서버에 Express REST API 추가 (인증/프로필 엔드포인트)
  - Supabase Admin API를 통한 서버 측 인증 처리
- **프론트엔드 Supabase 의존성 제거**
  - `@supabase/supabase-js` 패키지 제거 (프론트엔드)
  - `src/services/supabase.ts` 파일 삭제
  - `authService.ts`, `profileService.ts` API 호출 방식으로 변경
- **RPG 협동 모드 경험치 저장 버그 수정**
  - 멀티플레이어 게임 종료 시 경험치가 저장되지 않던 문제 해결
  - `RPGCoopGameScreen`에서 `handleGameEnd` 호출 추가
- **사운드 설정 저장 버그 수정**
  - 로그아웃 후 다른 계정 로그인 시 이전 계정의 설정이 적용되던 문제 해결
  - 로그인 사용자: DB에만 저장 (localStorage 사용 안 함)
  - 게스트: localStorage에만 저장
  - 로그아웃 시 localStorage 사운드 설정 삭제 (계정 간 혼동 방지)
- **회원탈퇴 기능 수정**
  - 회원탈퇴 시 Supabase Auth 계정도 완전 삭제
  - 기존 문제: 프로필만 삭제되고 Auth 계정 잔류
  - Admin API의 `deleteUser`로 완전 삭제 구현
- **세션 관리 개선**
  - localStorage 기반 세션 관리로 변경
  - 로그인 시 세션 저장, 로그아웃/탈퇴 시 세션 삭제
  - 앱 시작 시 저장된 세션 복원 및 유효성 검증
- **서버 패키지 추가**
  - express, cors, dotenv, @supabase/supabase-js 의존성 추가
  - 환경변수: `SUPABASE_URL`, `SUPABASE_ANON_KEY`, `SUPABASE_SERVICE_ROLE_KEY`
- **프론트엔드 환경변수 추가**
  - `VITE_API_URL`: 백엔드 API 서버 주소
- **RPG 모드 게임 중단 기능 추가**
  - 일시정지 메뉴에 "게임 중단" 버튼 추가
  - 게임 중단 시 현재까지의 진행 상황으로 게임 오버 처리
  - 패배로 기록되어 경험치 저장 후 종료
- **RPG 경험치 밸런스 조정**
  - 플레이어 경험치 2배 증가: 싱글(웨이브×10 + 승리 50), 협동(웨이브×15 + 승리 75)
  - 직업 경험치 2배 증가: 웨이브×5 + 킬×2
  - 캐릭터 해금 레벨 유지: 전사(15), 기사(40), 마법사(70)

### V1.13.2
- **로그인 시스템 변경**
  - 이메일 방식에서 아이디/비밀번호 방식으로 변경
  - 아이디: 4~20자, 영문/숫자/밑줄만 허용
  - 이메일 인증 없이 즉시 회원가입 완료
- **홈 화면 설정 버튼 추가**
  - 우측 상단에 설정(⚙️) 버튼 추가
  - 클릭 시 음량 조절 및 음소거 설정 가능
- **사운드 설정 계정별 저장**
  - 로그인 사용자: DB에 설정 저장, 다음 로그인 시 복원
  - 게스트 사용자: localStorage에 저장, 로그아웃 시 초기화
  - 비로그인 상태에서도 localStorage로 설정 유지
- **패시브 성장 알림 제거**
  - 웨이브 10/20/30... 클리어 시 패시브 활성화/강화 알림 제거
  - 패시브 성장 로직은 유지 (레벨 5 이상에서 활성화)
- **Supabase 마이그레이션 추가**
  - `player_profiles` 테이블에 `sound_volume`, `sound_muted` 컬럼 추가

### V1.13.1
- **RPG 모드 멀티플레이어 밸런싱**
  - 플레이어 수에 따른 적 공격력 스케일링 (2인: 1.1배, 3인: 1.2배, 4인: 1.3배)
  - 플레이어 수에 따른 적 수량 스케일링 (2인: 1.3배, 3인: 1.6배, 4인: 2배)
  - 보스는 수량 스케일링 제외 (항상 1마리)
- **게임 오버 UI 개선**
  - 게임 종료 시 계정 경험치 획득량 즉시 표시
  - 플레이어 EXP 및 클래스 EXP 각각 표시
  - 게스트 계정에는 비표시
- **경험치 획득량 50% 감소**
  - 싱글플레이: 웨이브당 10 → 5 EXP, 승리 보너스 50 → 25 EXP
  - 협동플레이: 웨이브당 15 → 8 EXP, 승리 보너스 75 → 40 EXP
  - 클래스 EXP: 웨이브당 5 → 3 EXP, 킬당 2 → 1 EXP
- **멀티플레이어 직업 해금 확인**
  - 협동 모드 로비에서도 직업 해금 레벨 확인
  - 잠긴 직업은 선택 불가 + 자물쇠 아이콘 표시
  - 잠긴 직업 선택 시 기본 직업(궁수)으로 자동 변경
- **로그아웃 시 데이터 초기화**
  - 로그아웃 시 ProfileStore(classProgress, gameHistory 등) 초기화
  - 다른 계정 데이터와 혼동 방지
- **협동 모드 직업 순서 변경**
  - 궁수 → 전사 → 기사 → 마법사 순서로 표시
- **프로필 화면 뒤로가기 개선**
  - 이전에 보던 화면으로 돌아가기 (기존: 항상 메인 메뉴로 이동)
- **RPG 싱글플레이 사망 화면 수정**
  - RTS 패배 화면 대신 RPG 전용 게임오버 모달 표시
- **사운드 시스템 개선**
  - 메인 화면부터 모든 화면에서 클릭 사운드 정상 재생
  - 웨이브 경고음(위잉위잉)은 보스 웨이브(10, 20, 30...)에서만 재생
- **ESC 일시정지 메뉴 설정 기능 추가**
  - 설정 버튼 클릭 시 볼륨 조절 슬라이더 표시
  - 음소거 토글 버튼 추가
- **UI 버그 수정**
  - 웨이브/레벨업 알림이 화면 중앙에서 왼쪽으로 치우쳐 보이던 문제 수정
  - 알림 애니메이션이 나타났다 바로 사라지던 문제 수정

### V1.13.0
- **RPG 모드 Supabase 계정 시스템**
  - 회원가입/로그인 기능 추가
  - 게스트 로그인 지원
  - 플레이어 프로필 및 레벨 시스템
  - 직업별 경험치 및 해금 시스템
- **로그인 UI 개선**
  - 에러 메시지 상단 여백 추가
  - UI 레이아웃 최적화

### V1.12.2
- **RPG 모드 멀티플레이어 이동 동기화 개선**
  - 목표 위치 기반에서 방향 기반 동기화로 변경
  - 클라이언트-서버 간 이동 끊김 현상 개선
  - 키 입력 시 즉시 방향 전송 (50ms 폴링 제거)
- **RPG 멀티플레이어 적 AI 타겟팅 개선**
  - 적이 항상 영웅을 추적하도록 변경 (싱글플레이와 동일)
  - 가장 가까운 영웅 우선 타겟팅 (거리 기반)
  - 비슷한 거리(150픽셀 이내)일 때만 근접 영웅 우선
  - 공격받을 시 공격자에게 반격 (가까울 때만)
- **RPG 모드 패시브 시스템 개편 (싱글/멀티 공통)**
  - 패시브 활성화 조건: 게임 시작 → 캐릭터 레벨 5 도달 시
  - **전사**: 피해흡혈 15% (레벨 5 이상)
  - **궁수**: 다중타겟 20% 확률 (레벨 5 이상)
  - **기사**: HP 재생 5/초 (레벨 5 이상)
  - **마법사**: 데미지 보너스 25% (레벨 5 이상)
- **RPG 모드 플레이 시간 표시 추가 (싱글/멀티 공통)**
  - 상단 중앙에 경과 시간 표시 (MM:SS 형식)
- **RPG 멀티플레이어 사망 시 관전 모드 추가**
  - WASD 키로 맵을 둘러볼 수 있음
  - 부활 타이머에 관전 모드 안내 표시
- **버그 수정**
  - 멀티플레이어 기사 HP 재생이 적용되지 않던 문제 수정
  - 멀티플레이어 적이 가까운 영웅을 무시하고 먼 근접 영웅만 타겟하던 문제 수정

### V1.12.1
- **RPG 모드 조작 시스템 개편 (싱글/멀티 공통)**
  - WASD 키로 이동 (우클릭 이동 제거)
  - 자동 공격 시스템: 사거리 내 적이 있으면 자동으로 기본 공격
  - 스킬 키 변경: Shift(스킬), R(궁극기)
  - 마우스는 스킬 방향 지정용으로만 사용
- **스킬바 UI 개편 (싱글/멀티 공통)**
  - Q 스킬 슬롯 제거 (자동 공격으로 대체)
  - Shift(스킬), R(궁극기) 2개 슬롯만 표시
  - 각 슬롯에 "스킬", "궁극기" 라벨 표시

### V1.12.0
- **RPG 모드 멀티플레이어 협동 모드 추가**
  - 2-4명 플레이어가 함께 웨이브를 클리어하는 협동 모드
  - 방 생성/참가 시스템 (6자리 초대 코드)
  - 서버 권위적 모델로 게임 상태 동기화
  - 경험치 공유 시스템 (모든 플레이어 동일 경험치 획득)
  - 플레이어 수에 따른 난이도 스케일링 (2인: 1.5배, 3인: 2배, 4인: 2.5배)
  - 자동 부활 시스템 (10~30초 대기 후 자동 부활)
  - 적 AI 어그로 시스템 (가까운 영웅 + 근접 직업 우선)
- **RPG 모드 버그 수정 및 개선**
  - 전사 광전사 버프 공격속도 30% 증가 효과 적용 (Q스킬 쿨다운 감소)
  - 멀티플레이 이동속도 버그 수정 (이동속도가 아닌 공격속도에 버프 적용)
  - 렌더링 일관성 개선 (광전사 불꽃 이펙트, 무적 이펙트, 스턴 이펙트)

### V1.11.7
- **RPG 모드 기사 직업 개선**
  - 기사 레벨업 시 HP +50 (다른 직업: +30)
  - 방패 돌진(W) 데미지 추가: 최대 HP의 10% 데미지 + 기절
  - Q 스킬 적중 시 W 스킬 쿨타임 1초 감소 (적 1명당)
  - Q/W 스킬 아이콘 교체 (Q: 💪, W: 🛡️)
- **RPG 모드 게임 템포 개선**
  - 영웅 및 적 이동속도 50% 증가
  - 웨이브 간 대기 시간 제거 (즉시 다음 웨이브 시작)
- **RPG 모드 사운드 개선**
  - 레벨업 사운드 변경: 단순 상승음 → 3음 아르페지오
  - 레벨업/웨이브 사운드 중복 재생 방지 (800ms 지연)

### V1.11.6
- **RPG 모드 레벨업 시 스킬 쿨타임 초기화**
  - 레벨업하면 모든 스킬(Q/W/E)의 쿨타임이 즉시 초기화됨
  - 위기 상황에서 레벨업을 통해 전투 지속 가능
- **RPG 모드 기본 공격 이펙트 개선**
  - 사거리 내 적 유무와 관계없이 공격 이펙트가 항상 표시됨
  - 궁수/마법사: 적이 없어도 마우스 방향으로 투사체 발사
  - 전사/기사: 적이 없어도 베기/타격 모션 표시
- **스킬 해금 시스템 제거**
  - 모든 스킬(Q/W/E)이 게임 시작부터 사용 가능
  - 레벨업 시 스킬 해금 알림 제거

### V1.11.5
- **RPG 모드 패시브 성장 시스템 추가**
  - 웨이브 10 클리어부터 활성화, 10웨이브마다 성장
  - **전사**: 피해흡혈 (최대 50%, 초과 시 공격력 +0.5%/10W)
  - **궁수**: 다중타겟 확률 (최대 100%, 초과 시 공격력 +0.5%/10W)
  - **기사**: HP 재생 (최대 200/초, 초과 시 체력 +0.5%/10W)
  - **마법사**: 데미지 보너스 (최대 100%, 초과 시 공격력 +1%/10W)
  - 전사 피해흡혈: 패시브 + 궁극기 버프 곱연산 적용
  - 패시브 활성화/강화 시 알림 표시
- **RPG 모드 기본 공격 이펙트 추가**
  - **전사**: 주황색 베기 호 + 피격 스파크
  - **궁수**: 녹색 화살 발사 애니메이션 (다중타겟 시 여러 화살)
  - **기사**: 파란색 방패 타격 호 + 충격파
  - **마법사**: 보라색 마법 볼트 발사 + 폭발 이펙트
  - 각 피격 대상에 개별 히트 이펙트 표시

### V1.11.4
- **RPG 모드 스킬 이펙트 및 모션 추가**
  - **전사 돌진(W) 스킬 개선**
    - 순간이동 대신 실제 이동 모션 추가 (0.25초 지속)
    - 속도선, 그라데이션 잔상, 잔영 효과
    - 도착 시 충격파 이펙트
    - 돌진 후 무적 상태 황금 방패 효과
  - **전사 광전사(E) 스킬 개선**
    - 기존 붉은 원 대신 불타는 화염 효과
    - 16개 화염이 캐릭터 주변에서 솟아오름
    - 불꽃 스파크 파티클 효과
    - 발동 시 다중 충격파 폭발 이펙트
  - **궁수 관통화살(W) 스킬 효과 추가**
    - 화살 모양 (화살대, 촉, 깃털) 캔버스 렌더링
    - 화살 궤적 잔상 및 에너지 파동 효과
    - 최대 사거리 도달 시 자동 소멸
    - 관통 경로 잔류 이펙트
  - **궁수 화살비(E) 스킬 효과 추가**
    - 20발 화살이 하늘에서 낙하
    - 5개 그룹으로 시간차 낙하 (중력 가속)
    - 착지 시 충격파 및 먼지 효과
    - 착지 후 바닥에 꽂힌 화살 표시
    - 시작 시 경고 원 표시
- **버그 수정**
  - 전사 돌진 후 캐릭터가 이동할 수 없던 문제 수정
  - 궁수 스킬 애니메이션이 표시되지 않던 문제 수정 (스킬 타입 매칭)

### V1.11.3
- **RPG 모드 Q 스킬(기본 공격) 시스템 개선**
  - 직업별 기본 사거리 적용 (전사 80, 궁수 150, 기사 60, 마법사 120)
  - 바라보는 방향으로만 공격 적용 (후방의 적은 공격되지 않음)
  - 직업별 공격 타입 차별화
    - 전사, 기사: 근접 범위 공격 (다수 타격, 전방 110도)
    - 마법사: 원거리 범위 공격 (다수 타격, 전방 90도)
    - 궁수: 원거리 단일 공격 (전방 90도)
- **기본 공격 사거리 표시 기능 추가**
  - C 키를 누르고 있으면 캐릭터의 기본 공격 사거리가 노란색 원으로 표시
- **조작법 안내 업데이트**
  - 하단 안내 텍스트 수정: `WASD: 이동 | 자동 공격 | Shift: 스킬 | R: 궁극기 | C: 사거리 | Space: 카메라`
- **버그 수정**
  - 전사/기사의 W 스킬(돌진)이 데미지만 입히고 이동하지 않던 문제 수정

### V1.11.2
- **RPG 모드 전투 시스템 개선**
  - Q 키로 기본 공격 (마우스 방향으로 공격)
  - 좌클릭 자동 공격 제거
  - 공격 적중 판정 개선
- **적 AI 개선**
  - 적이 항상 플레이어를 추적하도록 변경
- **버그 수정**
  - 스킬 데미지가 적용되지 않던 문제 수정
  - 직업 선택이 적용되지 않던 문제 수정

### V1.11.1
- **RPG 모드 개선**
  - 이동 방향에 따른 유닛 이미지 반전 기능 추가
  - 영웅이 오른쪽으로 이동하면 오른쪽을 바라보고, 왼쪽으로 이동하면 왼쪽을 바라봄
  - 적 유닛이 영웅 방향을 바라보도록 수정
- **버그 수정**
  - SkillType 타입 정의 누락 수정
  - 미사용 변수 경고 수정

### V1.11.0
- **RPG 모드 추가**
  - 4가지 직업 시스템 (전사, 궁수, 기사, 마법사)
  - 직업별 고유 스탯 및 스킬 (Q/W/E)
  - 웨이브 기반 서바이벌 모드
  - 적 AI 시스템 (탐지, 추적, 공격)
  - 미니맵 안개 시야 시스템
  - 버프 시스템 (광전사, 철벽 방어)
  - 레벨업 및 경험치 시스템
  - 자세한 내용은 [RPG 모드 설명서](docs/rpg-mode.md) 참조

### V1.10.1
- **사운드 재생 개선**
  - 플레이어 측 이벤트에서만 사운드 재생
  - 적 유닛의 공격, 채집, 힐 소리가 더 이상 재생되지 않음
  - AI 대전 및 멀티플레이어 모든 모드에서 적용
- **버그 수정**
  - 볼륨 슬라이더 호버 시 마우스 이동 중 패널이 사라지는 문제 수정
  - 튜토리얼 건너뛰기 후 적 본진 파괴 시 게임이 종료되지 않던 문제 수정

### V1.10.0
- **사운드 시스템 추가**
  - Web Audio API 기반 프로시저럴 사운드 시스템
  - 외부 파일 없이 코드로 사운드 생성 (저작권 문제 없음)
  - UI 클릭, 유닛 생산, 전투, 자원 수집, 승리/패배 등 14종 사운드
  - `M` 키 또는 미니맵 좌측 스피커 아이콘으로 음소거 토글
  - 볼륨 슬라이더로 소리 크기 조절 가능
  - 튜토리얼/AI 대전/멀티플레이어 모든 모드 지원

### V1.9.5
- **튜토리얼 버그 수정**
  - 이전 게임의 알림이 새 게임에서 표시되는 문제 수정
  - 튜토리얼 조기 종료 버그 수정 (마지막 단계까지 완료해야 게임 종료)
  - 키보드 단축키(E)로 약초 판매 시 튜토리얼 진행되지 않던 문제 해결

### V1.9.4
- **튜토리얼 모드 추가**
  - 19단계 단계별 학습 시스템
  - 모든 유닛과 액션을 체험할 수 있는 가이드
  - 넉넉한 초기 자원 (골드 500, 나무 50, 돌 30, 약초 30, 수정 10)
  - 30분 게임 시간, 적 기지 HP 300
  - ESC 키로 일시정지 지원
  - 튜토리얼 UI 위치 조정 (자원바와 겹치지 않도록)
- **가장자리 스크롤 기능 추가**
  - 마우스를 화면 가장자리로 이동하면 카메라 자동 이동
  - 기본값: 비활성화
  - `Y` 키 또는 미니맵 좌측 📷 버튼으로 토글
  - 멀티플레이어 모드에서도 동작

### V1.9.3
- **유닛 밸런스 조정**
  - 마법사 비용: 150골드 + 10수정 → 150골드 + 50나무 + 10수정
  - 힐러: 힐량 10 → 5HP/초, 힐 범위 100 → 130px
- **UI 개선**
  - 게임 종료 화면: 본진 HP 통계 제거
  - 로비 화면: 버튼 패딩 조정

### V1.9.2
- **카운트다운 화면 개선**
  - 싱글플레이어 카운트다운 중 인게임 화면이 배경에 표시
  - 맵, 자원 노드, UI 패널 등을 게임 시작 전 미리 확인 가능
  - 반투명 오버레이로 카운트다운 숫자 표시
- **메뉴 UI 개선**
  - 메인 메뉴: 버튼 크기 및 간격 조정
  - 모드 선택: 카드 내 아이콘과 텍스트 간격 조정
  - 난이도 선택: 설명 박스 패딩 및 내부 간격 조정
  - 일시정지 화면: 버튼 패딩 조정, 애니메이션 속도 향상 (300ms → 200ms)

### V1.9.1
- **키보드 단축키 시스템 추가**
  - `Q`: 벽 배치 모드 토글
  - `W`: 본진 강화
  - `E`: 약초 판매
  - WASD 카메라 이동 제거 (방향키만 사용)
- **액션 패널 UI 개선**
  - 레이블 한글화 ("ACTIONS" → "액션")
  - 단축키 배지 표시 (Q, W, E)
  - 비용 표시 이모지 아이콘으로 변경
- **유닛 패널 UI 개선**
  - 공격 유닛과 지원 유닛 구분 표시
  - "공격 유닛" / "지원 유닛" 라벨 추가
- **게임 시작 카운트다운 추가**
  - AI 모드 시작 시 3-2-1 카운트다운 표시
  - 카운트다운 완료 후 게임 시작
- **일시정지 화면 개선**
  - ESC 키로 게임 재개 가능
- **알림창 버그 수정**
  - 게임 시작 시 이전 알림이 표시되는 버그 수정
  - UI 상태 초기화 함수 추가 (resetGameUI)
- **멀티플레이어 호환성**
  - 모든 UI 개선 사항 멀티플레이어 모드에도 적용

### V1.9.0
- **극악 난이도 추가**
  - 2단계 페이즈 시스템 (본진 파괴 → 보스 출현)
  - 적 본진 HP 2000, AI 골드 6/초, 행동 확률 98%
  - 1분마다 대량 발생 (풀 조합)
  - 한 번에 최대 4유닛 동시 소환
- **보스 유닛 추가**
  - HP 2000, 공격력 100, AOE 반경 80px
  - 이동속도 0.5 (매우 느림)
  - 2.5배 크기 렌더링, 붉은 글로우 효과
  - 파괴된 적 본진 위치에서 출현
- **보스 테스트 난이도 추가**
  - 적 기지 HP 1 (즉시 파괴)
  - 보스 밸런스 테스트용

### V1.8.5
- 어려움 난이도 대량 발생 밸런스 조정
  - 첫 번째 대량 발생(1분30초): 마법사 제외 (검병+궁수+기사+힐러)
  - 두 번째 이후(3분, 4분30초...): 마법사 포함 풀 조합
- 유닛 밸런스 조정
  - 기사 HP: 250 → 300 (탱커 역할 강화)
  - 광부 채집속도: 1.0 → 1.5/초
  - 채집꾼 채집속도: 2.0 → 1.5/초 (지원 유닛 균형)
  - 마법사 이동속도: 1.2 → 1.7, 사거리: 180 → 200 (기동성 및 화력 강화)
- 서버-클라이언트 CONFIG 동기화
  - 멀티플레이어 서버 유닛/구조물 설정을 클라이언트와 완전히 동기화
  - 벽 건설 비용, 약초 판매, 기지 업그레이드 비용 등 일치

### V1.8.4
- 기지 업그레이드 비용 변경
  - 1레벨: 150골드만 필요 (나무/돌 불필요)
  - 2레벨 이상: 골드 + 나무 + 돌 필요 (기존 방식)
- 힐러 이펙트 투명도 개선
  - 힐 이펙트 불투명도 40%로 조정하여 유닛 HP바 가시성 향상
- 벽 설치 가능 영역 표시
  - 벽 설치 모드 진입 시 설치 가능 영역(내 진영)을 시각적으로 표시
  - 연한 초록색 오버레이 + 중앙선 점선 표시
- 어려움 난이도 대량 발생 시간 조정
  - 2분 → 1분 30초로 빨라짐 (더 공격적인 AI)

### V1.8.3
- AI 난이도 시스템 대폭 개선
  - **중간**: 기존 어려움 수준으로 상향 (행동 주기 2.5초, 행동 확률 85%)
  - **어려움**: 더 공격적으로 변경 (행동 주기 2초, 행동 확률 95%, 다중 소환)
- 대량 발생 시스템 추가
  - 중간: 2분에 검병+궁수+기사+힐러 무료 소환 (1회)
  - 어려움: 2분마다 검병+궁수+기사+마법사+힐러 무료 소환 (반복)
  - 대량 발생 경고 UI 표시 ("대량 발생!" 알림)
  - AI 자원과 무관한 무료 소환
- 힐러 이펙트 변경
  - 이모지(➕)에서 초록색 십자가 도형으로 변경
  - 새로운 'cross' 파티클 모양 추가
- 문서 업데이트 (도움말/README)
  - 채집꾼 비용: 35 → 65 골드
  - 벽 건설 비용: 20 나무 + 10 돌 → 35 나무 + 20 돌
  - 기지 업그레이드 비용: 100 골드 + 50 돌 → 100 골드 + 50 나무 + 50 돌

### V1.8.2
- 멀티플레이어 모드 이펙트 애니메이션 버그 수정
  - 게임 루프가 시작되지 않아 이펙트가 멈춰있던 문제 해결
  - `startGame()` 호출 추가로 이펙트가 AI 모드와 동일하게 부드럽게 동작

### V1.8.1
- 멀티플레이어 모드 이펙트 시스템 지원
  - 서버에서 `UNIT_HEALED`, `RESOURCE_GATHERED` 이벤트 브로드캐스트
  - 클라이언트에서 서버 이벤트 수신 시 이펙트 생성
  - 모든 이펙트(공격/채집/힐)가 싱글/멀티플레이어 동일하게 표시
- 이펙트 이벤트 쿨타임 적용
  - 채집 이펙트: 0.3초
  - 힐 이펙트: 0.5초

### V1.8.0
- 유닛 행동 파티클 이펙트 시스템 추가
  - 근접 공격: 빨간색 파티클 방사 (검병, 기사)
  - 원거리 공격: 노란색 파티클 (궁수)
  - 마법 공격: 보라색 AOE 원형 파동 + 별 파티클 (마법사)
  - 나무 채집: 갈색 나무 조각 튀김 (나무꾼)
  - 돌 채집: 회색 돌 파편 튀김 (광부)
  - 약초 채집: 초록색 입자 상승 (채집꾼)
  - 금 채집: 금빛 별 파티클 (금광부)
  - 힐: 초록색 ➕ 이모지 상승 (힐러)
- 이펙트 성능 최적화
  - 최대 200개 이펙트, 이펙트당 30개 파티클 제한
  - 채집 이펙트 0.3초 쿨타임
  - 화면 밖 파티클 렌더링 스킵
- 유닛 크기 증가
  - 이미지 크기: 28x34 → 30x40 (세로 18% 증가)
  - 베이스 원 크기: 15 → 17 (반경)
  - 체력바 너비: 24 → 26

### V1.7.9
- 커스텀 유닛 이미지 시스템 추가
  - PNG 이미지로 유닛 표시 (이모지 대체)
  - 이미지 로드 실패 시 이모지 폴백
  - 앱 시작 시 이미지 프리로드
- 유닛 이미지 방향 자동 반전
  - 플레이어 유닛: 오른쪽(적 방향) 바라봄
  - 적/AI 유닛: 왼쪽(플레이어 방향) 바라봄
- 유닛 이미지 크기 조정 (28x34)

### V1.7.8
- 유닛별 공격속도(attackSpeed) 설정 추가
  - 검병: 1초, 궁수: 2초, 기사: 1초, 마법사: 2.5초, 힐러: 1초
- 싱글/멀티플레이어 전투 로직 일관성 확보
- 액션 패널 호버 툴팁 이모지 호환성 수정
  - 커스텀 툴팁으로 Twemoji 적용

### V1.7.7
- Twemoji 적용으로 크로스 플랫폼 이모지 호환성 확보
  - 모든 OS/브라우저에서 동일한 이모지 표시
  - UI 컴포넌트 (유닛 버튼, 자원 바, 도움말 등)
  - Canvas 렌더링 (유닛, 자원 노드, 본진)
  - 앱 시작 시 이모지 이미지 프리로드

### V1.7.6
- 힐러 로직 개선
  - 광역 회복으로 변경 (범위 내 모든 전투 유닛 회복)
  - 전투 유닛만 회복 및 따라다님 (지원 유닛 제외)
  - 아군 전투 유닛 전멸 시 적 전투 유닛 공격
- 유닛 소환 쿨타임 추가
  - 검병: 1.5초, 궁수: 3초, 기사: 5초, 마법사: 5초
  - 지원 유닛: 1초 (금광부: 2초, 힐러: 5초)
  - UI에서 쿨타임 시각적 표시
- 싱글/멀티플레이어 전투 로직 일관성 확보
  - 서버 힐러 유닛 타입 참조 버그 수정

### V1.7.5
- 미니맵 줌 비율 반영
  - 맵 축소/확대에 따라 미니맵 뷰포트 크기 동기화
  - 미니맵 클릭 시 줌 비율 고려하여 카메라 이동
- 멀티플레이어 본진 강화 레벨 표시 버그 수정
  - 서버 상태에서 업그레이드 레벨 동기화
  - UI에서 실시간 레벨 표시
- 반격 로직 개선
  - 사거리 내 공격자만 반격 (멀리서 공격받아도 가까운 적 우선)
  - 검병, 궁수, 기사, 마법사, 힐러 모두 적용

### V1.7.4
- 벽 시스템 개선
  - 벽 설치 후 30초 경과 시 자동 소멸
  - 경로상 벽만 타겟팅 (본진 방향에 있는 벽만 공격)
- 반격 시스템 추가
  - 공격받은 유닛은 공격자를 우선 타겟팅
  - 사거리 내면 즉시 반격, 사거리 밖이면 접근 후 반격
- 서버 멀티플레이어 로직 동기화

### V1.7.3
- 전투 유닛 타겟팅 버그 수정
  - 근접 유닛이 본진 근처의 적 유닛을 지나치는 문제 해결
  - 적 유닛이 벽/본진보다 가까우면 먼저 접근하도록 개선
- 도움말 UI 업데이트
  - 마법사, 힐러 유닛 정보 추가
  - 기지 업그레이드 설명 보완

### V1.7.2
- 유닛 밸런스 조정
  - 기사 공격력: 30 → 10 (탱커 역할 강화)
  - 마법사 공격력: 35 → 50 (딜러 역할 강화)

### V1.7.1
- 기지 업그레이드 최대 레벨 5 제한
- 최대 레벨 도달 시 "강화 MAX" 표시
- 문서 업데이트 (GAMEPLAY.md, BALANCE.md)

### V1.7.0
- 새로운 유닛 추가
  - 힐러: 70골드 + 15약초, 아군 HP 회복 (10HP/초, 범위 100px)
  - 마법사: 150골드 + 10수정, 범위 공격 (AOE 50px)
- 자원 노드 증가
  - 약초: 15 → 20개
  - 나무: 16 → 20개
  - 돌: 10 → 14개
  - 금광산: 8 → 10개
- 전투 유닛 타겟팅 개선
  - 우선순위: 가까운 적 유닛 > 벽 > 본진
- 힐러 행동 우선순위
  - 아군 회복 > 반격 > 대기
- 서버 멀티플레이어 로직 동기화

### V1.6.1
- 벽 타겟팅 시스템 개선
  - 유닛이 벽을 본진보다 먼저 공격
  - 공격 중인 벽이 파괴될 때까지 타겟 유지
  - 공격 중 다른 유닛에게 공격받으면 반격 후 벽으로 복귀
- 기지 업그레이드 시스템 개선
  - 업그레이드 비용 레벨당 1.5배 증가
  - 업그레이드 시 골드 수입 +1/초 추가
  - UI에 현재 레벨 및 다음 업그레이드 비용 표시

### V1.6.0
- 마우스 스크롤 줌 기능 추가 (0.5x ~ 2x)
- 맵 크기 확장 (3000x2000 → 4000x2400)
- 자원 재생성 시간 조정
  - 약초: 45초 → 30초
  - 나무: 60초 → 40초
  - 금광산: 60초 → 40초
- 자원 노드 고갈 시 재생성 로직 구현

### V1.5.3
- 서버 상태 동기화 주기 최적화 (100ms → 50ms)
- 도움말 UI 가독성 대폭 개선
- 타이머 UI 고정 너비 적용 (크기 변동 방지)
- 타이머 프로그레스 바 제거
- 멀티플레이어 게임 종료 화면 간소화
  - HP 통계 숨김
  - 기지 파괴 메시지 제거

### V1.5.2
- 멀티플레이어 통신 지연 문제 해결
- 클라이언트 측 보간(interpolation) 시스템 추가
- 유닛 위치 부드러운 이동 처리
- 골드 수입 부드러운 증가 표시
- 타이머 부드러운 감소 처리
- 서버 상태 전송 주기 최적화 (500ms → 100ms)

### V1.5.1
- 멀티플레이어 실시간 상태 동기화 완료
- 초대 코드 기반 방 시스템 구현
- 진영 배정 시스템 (방장: 왼쪽, 참가자: 오른쪽)
- 멀티플레이어 전용 렌더링 시스템 추가
- 서버 상태 기반 UI 컴포넌트 연동

### V1.5.0
- 1vs1 네트워크 멀티플레이어 모드 기본 구조 추가
- WebSocket 기반 실시간 대전 서버 구현
- 서버 권위 모델로 게임 상태 동기화
- 모노레포 구조로 프로젝트 재구성 (client/server/shared)

### V1.4.0
- AI 난이도 시스템 추가 (쉬움/중간/어려움)
- 난이도별 적 기지 HP 차등 적용
- AI 채집꾼/광부 생산 기능 추가
- AI 약초 판매 기능 추가
- 게임 시간 단축 (20분 → 10분)
- 기사 스탯 조정 (HP 200→250, 공격력 25→30)

### V1.3.0
- 벽 배치 시스템 개선 (위치 선택 가능)
- 적 공격 유닛이 벽 공격 기능 추가
- AI 밸런스 조정 (골드 수급 3/초로 감소)
- 광부 이동 속도 증가 (1.0 → 1.2)

### V1.2.0
- 기사 유닛 추가 (120G + 20W + 30S, HP 200, 공격력 25)
- 광산 수 증가 (각 진영 4개, 총 8개)
- 광산 재생성 시간 단축 (120초 → 60초)
- 유닛 전투 시스템 개선 (채집 유닛 반격 기능)
- 공격 유닛이 모든 적 유닛 타겟팅

### V1.1.0
- 광산 자원 노드 추가 (각 진영 2개씩)
- 금광부 유닛 추가 (광산에서 골드 채집)
- AI 금광부 생산 로직 추가

### V1.0.0
- 기본 게임 시스템 구현
- 5종 유닛 (검병, 궁수, 나무꾼, 광부, 채집꾼)
- 5종 자원 (골드, 나무, 돌, 약초, 수정)
- 적 AI 시스템
- 벽 건설 및 기지 업그레이드
- 미니맵 및 카메라 시스템

---

## 알려진 문제

현재 알려진 문제 없음.

---

## 라이선스

MIT License
