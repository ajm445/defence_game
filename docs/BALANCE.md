# 게임 밸런스

> 게임 수치, AI 행동 패턴, 밸런스 분석

---

## 목차

1. [핵심 수치](#핵심-수치)
2. [AI 시스템](#ai-시스템)
3. [1vs1 대전 밸런스](#1vs1-대전-밸런스)
4. [전투 밸런스](#전투-밸런스)
5. [경제 밸런스](#경제-밸런스)
6. [승률 분석](#승률-분석)

---

## 핵심 수치

### 게임 설정

| 항목 | 플레이어 | AI | 설명 |
|------|---------|-----|------|
| 게임 시간 | 600초 (10분) | - | 제한 시간 |
| 맵 너비 | 4000px | - | 좌우 크기 |
| 맵 높이 | 2400px | - | 상하 크기 |
| 골드 수입 | 기본 4/초 (업그레이드로 증가) | 4/초 | 플레이어만 증가 가능 |
| 기지 HP | 1000 | 1000~1500 | 난이도별 상이 |

### 난이도별 AI 설정

| 항목 | 쉬움 | 중간 | 어려움 |
|------|------|------|--------|
| 골드 수입 | 4/초 | 4/초 | 5/초 |
| 행동 주기 | 5초 | 2.5초 | 2초 |
| 행동 확률 | 60% | 85% | 95% |
| 초기 골드 | 100 | 120 | 150 |
| 적 기지 HP | 1000 | 1200 | 1500 |
| 다중 소환 | ❌ | ❌ | ✅ (최대 3유닛) |
| 대량 발생 | ❌ | 2분에 1회 | 1분30초마다 반복 |

### UI 설정

| 항목 | 값 |
|------|-----|
| UI 패널 높이 | 120px |
| 미니맵 너비 | 200px |
| 미니맵 높이 | 150px |

---

## AI 시스템

### AI 의사결정

AI는 **난이도별 행동 주기**마다 행동을 결정합니다.

```
쉬움: 5초 주기, 60% 확률
중간: 2.5초 주기, 85% 확률
어려움: 2초 주기, 95% 확률 (다중 소환 가능)
```

### 대량 발생 시스템 (V1.8.3)

특정 시간에 AI가 무료로 유닛을 대량 소환합니다.

| 난이도 | 발생 시점 | 소환 유닛 | 반복 |
|--------|----------|----------|------|
| 쉬움 | - | - | - |
| 중간 | 2분 | 검병+궁수+기사+힐러 | 1회만 |
| 어려움 | 1분30초, 3분, 4분30초... | 검병+궁수+기사+마법사+힐러 | 1분30초마다 |

> 대량 발생은 AI 자원과 무관하게 무료로 소환됩니다.

### AI 행동 로직

```javascript
// AI 의사결정 순서 (우선순위 순)

0. 약초 판매 (행동 확률 무관)
   - 약초 >= 10
   → 30골드로 판매

1. 행동 여부 결정
   - 난이도별 확률로 행동
   - 나머지 확률로 이번 턴 스킵

2. 초반: 지원 유닛 체크
   - 지원 유닛 < 최소 수 AND 골드 >= 30
   → 60% 나무꾼 / 20% 채집꾼 / 20% 광부

3. 중후반: 전투 유닛 우선 (지원 유닛 충분 시)
   - 자원 풍부하면 85%, 아니면 70% 확률로 전투 유닛 생산
   - 마법사 → 기사 → 궁수 → 검병 순으로 시도
   - 마법사: 수정 10개 이상 필요

4. 추가 지원 유닛 (낮은 확률)
   - 금광부: 기존 확률의 50%
   - 채집꾼/광부: 기존 확률의 30%
   - 힐러: 전투 유닛 3명 이상 + 힐러 2명 미만

5. 폴백: 검병 생산
   - 골드 >= 50
   → 검병 생산
```

### AI 유닛 생산 확률 (난이도별)

| 유닛 | 쉬움 | 중간 | 어려움 |
|------|------|------|--------|
| 금광부 | 20% | 40% | 50% |
| 채집꾼 | 20% | 35% | 45% |
| 광부 | 20% | 35% | 45% |
| 기사 | 25% | 45% | 55% |
| 궁수 | 30% | 50% | 60% |
| 힐러 | 15% | 25% | 35% |
| 마법사 | 10% | 20% | 30% |

### AI 강점과 약점

**강점**:
- 지원 유닛을 일정 수 유지 (난이도별 3~5마리)
- 다양한 지원 유닛 생산 (나무꾼, 광부, 채집꾼, 금광부, 힐러)
- 약초 자동 판매로 추가 골드 확보
- 안정적인 자원 수급
- 지속적인 유닛 생산
- 수정 확보 시 마법사 생산
- 힐러로 전투 유닛 지원

**약점**:
- 벽/업그레이드 미사용
- 공격적 전략 부재
- 수동적인 방어 플레이

---

## 1vs1 대전 밸런스

### 기본 설정

| 항목 | 값 | 설명 |
|------|-----|------|
| 게임 시간 | 600초 (10분) | AI 대전과 동일 |
| 맵 크기 | 4000x2400px | AI 대전과 동일 |
| 양측 골드 수입 | 기본 4/초 (업그레이드로 증가) | 양측 동일 조건 |
| 초기 자원 | 골드 100 | 완전 동일 |
| 기지 HP | 1000 | 양측 동일 |

### 진영 배치

| 진영 | 플레이어 | 색상 | 시작 위치 |
|------|---------|------|----------|
| 왼쪽 | 방장 | 파란색 | 카메라 (0, 중앙) |
| 오른쪽 | 참가자 | 빨간색 | 카메라 (4000-화면너비, 중앙) |

### 밸런스 특성

**완전 대칭 설계**
- 양 플레이어 자원/기지 HP 동일
- 서버 권위 모델로 치팅 방지
- 100ms 주기 상태 동기화

**전략적 요소**
- 내 진영에서만 벽 건설 가능
- 자원 노드 위치 양측 대칭
- 실시간 전투로 반응 속도 중요

---

## 전투 밸런스

### 유닛 대 유닛

#### 검병 vs 검병

```
검병 HP: 100
검병 공격력: 15
쿨다운: 1초

1:1 전투 시간 = 100 / 15 = 6.67초
→ 선공 유닛 승리 (남은 HP: 약 15)
```

#### 궁수 vs 궁수

```
궁수 HP: 50
궁수 공격력: 25
쿨다운: 1초

1:1 전투 시간 = 50 / 25 = 2초
→ 선공 유닛 승리 (남은 HP: 25)
```

#### 검병 vs 궁수

```
검병이 궁수에게 접근하는 동안 피해:
- 궁수 사거리: 150px
- 검병 속도: 2px/frame

접근 시간 ≈ 75 프레임 ≈ 1.25초
접근 중 받는 피해 ≈ 25~50 (1~2회 공격)

결과: 검병 HP 50~75로 도착
→ 검병 승리 (단, 피해 큼)
```

### 유닛 대 기지

| 유닛 | DPS | 기지 파괴 시간 (단독) |
|------|-----|---------------------|
| 검병 | 15 | 66.7초 |
| 궁수 | 25 | 40초 |

### 효율적인 조합

| 조합 | 총 비용 | 총 DPS | 비용당 DPS |
|------|---------|--------|----------|
| 검병 5명 | 250G | 75 | 0.30 |
| 궁수 3명 | 240G + 30W | 75 | 0.28* |
| 검병 3 + 궁수 2 | 310G + 20W | 95 | 0.29* |

*나무 비용 미포함 시

---

## 경제 밸런스

### 자동 수입 분석

```
골드 자동 수입: 기본 4/초
- 플레이어: 업그레이드당 +1/초 증가 가능
- AI: 4/초 고정

10분 총 자동 수입 (업그레이드 없이): 2,400 골드
10분 총 자동 수입 (5레벨 업그레이드 시): 약 5,400 골드

시작 자원:
  - 플레이어: 100 골드
  - AI (쉬움): 100 골드
  - AI (중간): 120 골드
  - AI (어려움): 120 골드
```

### 기지 업그레이드 (최대 5레벨)

| 레벨 | 비용 | 누적 HP 보너스 | 골드 수입 |
|------|------|--------------|----------|
| 1 | 150G | +200 | 5/초 |
| 2 | 100G + 50W + 50S | +400 | 6/초 |
| 3 | 150G + 75W + 75S | +600 | 7/초 |
| 4 | 225G + 112W + 112S | +800 | 8/초 |
| 5 (MAX) | 337G + 168W + 168S | +1000 | 9/초 |

> 비용 계산: 1레벨은 150G 고정, 2레벨 이상은 기본 비용(100G + 50W + 50S) × 1.5^(현재 레벨-1)

### 유닛 생산 가능량

| 유닛 | 비용 | 최대 생산 가능 |
|------|------|---------------|
| 검병 | 50G | 50마리 |
| 궁수 | 80G | 31마리 (나무 제한) |
| 나무꾼 | 30G | 83마리 |

### 이상적인 경제 운영

```
초반 5분 (600초):
- 자동 수입: 1,200G
- 권장 지출:
  - 나무꾼 2명: 60G
  - 광부 1명: 40G + 5W
  - 검병 3명: 150G
  - 잔액: ~950G + 지원 유닛 채집량
```

### 손익분기점 분석

| 유닛 | 비용 | 채집 속도 | 손익분기점 |
|------|------|----------|-----------|
| 나무꾼 | 30G | 1.0/초 | 30초 |
| 광부 | 40G + 5W | 1.0/초 | 40초 |
| 채집꾼 | 50G | 2.0/초 | 25초 |

---

## 승률 분석

### 승리 조건별 확률

| 승리 조건 | 난이도 | 권장 전략 |
|----------|--------|----------|
| 적 기지 파괴 | 중 | 공격 유닛 집중 |
| 시간 종료 HP 우위 | 쉬움 | 방어 + 업그레이드 |

### 전략별 예상 승률

| 전략 | 설명 | 예상 승률 |
|------|------|----------|
| 러시 | 초반 검병 대량 생산 | 40% |
| 균형 | 자원 + 유닛 균형 | 60% |
| 거북이 | 방어 후 역습 | 55% |
| 궁수 스팸 | 중반 이후 궁수 집중 | 65% |

### 핵심 승리 요소

1. **자원 수급** - 지원 유닛 조기 고용
2. **유닛 효율** - 검병 + 궁수 조합
3. **시간 관리** - 후반 공세 타이밍
4. **HP 관리** - 벽과 업그레이드 활용

---

## 밸런스 요약

### 현재 밸런스 상태

| 요소 | 평가 | 비고 |
|------|------|------|
| 자원 시스템 | 공정 | 플레이어와 AI 동일 수입 |
| 유닛 밸런스 | 균형 | 전투 4종(검병/궁수/기사/마법사) + 지원 5종(+힐러) |
| AI 난이도 | 3단계 선택 | 쉬움/중간/어려움 |
| 적 기지 HP | 난이도별 | 1000/1200/1500 |
| 게임 시간 | 적절 | 10분 내 결판 |

### 난이도별 밸런스

| 난이도 | 플레이어 우위 | 주요 요소 |
|--------|-------------|----------|
| 쉬움 | 유리 | 느린 AI, 동일 기지 HP |
| 중간 | 균형 | 빠른 AI, 기지 HP +20%, 초기 골드 +20 |
| 어려움 | 불리 | 빠른 AI, 기지 HP +50%, 초기 골드 +20 |

### 추천 개선 사항

1. AI 벽 건설/업그레이드 로직
2. 난이도별 AI 전략 다양화
3. 추가 스킬/특수 능력 시스템

---

## 다음 문서

- [게임플레이 가이드](./GAMEPLAY.md) - 기본 조작 및 전략
- [유닛 가이드](./UNITS.md) - 모든 유닛의 상세 정보
- [자원 시스템](./RESOURCES.md) - 자원 획득 및 관리
